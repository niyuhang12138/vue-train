{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../src/nodeOps.ts", "../src/modules/patchClass.ts", "../src/modules/patchEvent.ts", "../src/modules/patchProp.ts", "../src/modules/patchStyle.ts", "../src/patchProp.ts", "../../runtime-core/src/components/Teleport.ts", "../../runtime-core/src/components/Transition.ts", "../../runtime-core/src/components/KeepAlive.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/h.ts", "../../runtime-core/src/seq.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/reactiveEffect.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/baseHandlers.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/computed.ts", "../../reactivity/src/watch.ts", "../../reactivity/src/effectScope.ts", "../../runtime-core/src/scheduler.ts", "../../runtime-core/src/component.ts", "../../runtime-core/src/apiLifecycle.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/apiProvide.ts", "../src/index.ts"],
  "sourcesContent": ["export * from \"./shapeFlags\";\n\nexport function isObject(value: unknown): value is object {\n    return typeof value === \"object\" && value !== null;\n}\n\nexport function isFunction(value: unknown): value is Function {\n    return typeof value === \"function\";\n}\n\nexport function isString(value: unknown): value is string {\n    return typeof value === \"string\";\n}\n\nexport const ownProperty = Object.hasOwn;\n\nexport const invokeArrayFn = (fns: Function[]) => {\n    fns.forEach((fn) => fn());\n};\n\nexport const objectToString: typeof Object.prototype.toString =\n    Object.prototype.toString;\n\nexport const toTypeString = (value: unknown): string =>\n    objectToString.call(value);\n\nexport const toRawType = (value: unknown): string => {\n    return toTypeString(value).slice(8, -1);\n};\n\nexport const isArray: typeof Array.isArray = Array.isArray;\n\nexport const isIntegerKey = (key: unknown): boolean =>\n    isString(key) &&\n    key !== \"NAN\" &&\n    key[0] !== \"-\" &&\n    \"\" + parseInt(key as string, 10) === key;\n\nexport const hasOwnProperty: typeof Object.prototype.hasOwnProperty =\n    Object.prototype.hasOwnProperty;\n\nexport const hasOwn = (\n    value: object,\n    key: string | symbol\n): key is keyof typeof value => hasOwnProperty.call(value, key);\n\nexport const hasChanged = (value: any, oldValue: any): boolean =>\n    !Object.is(value, oldValue);\n\nexport const isSymbol = (value: unknown): value is symbol =>\n    typeof value === \"symbol\";\n\nexport const extend = Object.assign;\n", "// \u4E3B\u8981\u662F\u5BF9\u8282\u70B9\u7684\u589E\u5220\u6539\u67E5\n\nimport { DomRenderOptions } from \".\";\n\nconst doc = document;\n\nexport const nodeOps: Omit<DomRenderOptions, \"patchProp\"> = {\n    insert(child, parent, anchor = null) {\n        parent.insertBefore(child, anchor);\n    },\n    remove(child) {\n        const parent = child.parentNode;\n        if (parent) {\n            parent.removeChild(child);\n        }\n    },\n    createElement(type) {\n        return doc.createElement(type as string);\n    },\n    createText(text) {\n        return doc.createTextNode(text);\n    },\n    createComment(common) {\n        return doc.createComment(common);\n    },\n    setText(node, text) {\n        node.nodeValue = text;\n    },\n    setElementText(el, text) {\n        el.textContent = text;\n    },\n    parentNode(node) {\n        return node.parentNode;\n    },\n    nextSibling(node) {\n        return node.nextSibling;\n    },\n    querySelector(selector) {\n        return doc.querySelector(selector);\n    },\n    cloneNode(node) {\n        return node.cloneNode(true);\n    },\n};\n", "export default function patchClass(el: Element, value: any) {\n    if (value) el.className = value;\n    else el.removeAttribute(\"class\");\n}\n", "function createInvoker(value: any): any {\n    const invoker = (e: any) => invoker.value(e);\n    invoker.value = value;\n    return invoker;\n}\n\nexport function patchEvent(\n    el: Element & {\n        _vei?: Record<string, any>;\n    },\n    key: string,\n    nextValue: Function\n) {\n    const eventName = key.slice(2).toLowerCase();\n\n    const invokes = el._vei || (el._vei = {});\n\n    const existingInvoker = invokes[eventName];\n\n    if (nextValue && existingInvoker) {\n        // update\n        existingInvoker.value = nextValue;\n        return;\n    }\n\n    if (nextValue) {\n        const invoker = (invokes[eventName] = createInvoker(nextValue));\n        el.addEventListener(eventName, invoker);\n        return;\n    }\n\n    if (existingInvoker) {\n        el.removeEventListener(eventName as any, existingInvoker as any);\n        invokes[eventName] = void 0;\n    }\n}\n", "export const excludedKeys = [\"ref\"];\n\nexport default function patchAttr(el: Element, key, value) {\n    if (excludedKeys.includes(key)) return;\n    if (value) {\n        el.setAttribute(key, value);\n    } else {\n        el.removeAttribute(key);\n    }\n}\n", "export default function patchStyle(el: any, prevValue: any, nextValue: any) {\n    let style = el.style;\n\n    if (nextValue)\n        for (const key in nextValue) {\n            style[key] = nextValue[key];\n        }\n\n    if (prevValue)\n        for (const key in prevValue) {\n            if (nextValue && !(key in nextValue)) style[key] = null;\n        }\n}\n", "// \u4E3B\u8981\u662F\u5BF9\u5C5E\u6027\u7684\u589E\u5220\u6539\u67E5\n\nimport { DomRenderOptions } from \".\";\nimport patchClass from \"./modules/patchClass\";\nimport { patchEvent } from \"./modules/patchEvent\";\nimport patchAttr from \"./modules/patchProp\";\nimport patchStyle from \"./modules/patchStyle\";\n\nconst patchProps: DomRenderOptions[\"patchProp\"] = (\n    el,\n    key,\n    prevValue,\n    nextValue\n) => {\n    if (key === \"class\") patchClass(el, nextValue);\n    else if (key === \"style\") patchStyle(el, prevValue, nextValue);\n    else if (/^on[^a-z]/.test(key)) return patchEvent(el, key, nextValue);\n    else return patchAttr(el, key, nextValue);\n};\n\nexport default patchProps;\n", "import { ShapeFlags } from \"@vue/shared\";\nimport { Container } from \"./renderer\";\nimport { ParentComponent, VNode, VNodeChildrenArrayType } from \"./vnode\";\n\nexport const Teleport = {\n    __isTeleport: true,\n    process(\n        preVNode: VNode | null,\n        nextVNode: VNode,\n        container: Container,\n        anchor: Container | undefined,\n        parentComponent: ParentComponent | undefined,\n        internals: {\n            mountChildren: (\n                children: VNodeChildrenArrayType,\n                container: Container,\n                anchor: Container | undefined,\n                parentComponent?: ParentComponent\n            ) => void;\n            patchChildren: (\n                preVNode: VNode,\n                nextVNode: VNode,\n                container: Container,\n                anchor: Container | undefined,\n                parentComponent: ParentComponent | undefined\n            ) => void;\n            move: (\n                vnode: VNode,\n                container: Container,\n                anchor: Container | undefined\n            ) => void;\n        }\n    ) {\n        const { mountChildren, patchChildren, move } = internals;\n\n        if (!preVNode) {\n            const target = (nextVNode.target = document.querySelector(\n                nextVNode.props?.to\n            ));\n\n            if (target) {\n                mountChildren(\n                    nextVNode.children as VNodeChildrenArrayType,\n                    target,\n                    parentComponent\n                );\n            } else {\n                console.warn(\n                    `Teleport target \"${nextVNode.props?.to}\" not found.`\n                );\n            }\n        } else {\n            patchChildren(\n                preVNode,\n                nextVNode,\n                nextVNode.target,\n                anchor,\n                parentComponent\n            );\n\n            if (nextVNode.props?.to !== preVNode.props?.to) {\n                const nextTarget = (nextVNode.target = document.querySelector(\n                    nextVNode.props?.to\n                ));\n                (nextVNode.children as Array<VNode>).forEach((child) => {\n                    move(child, nextTarget, anchor);\n                });\n            }\n        }\n    },\n    remove(vNode: VNode, unmountChildren: (children: Array<VNode>) => void) {\n        const { shapeFlag } = vNode;\n        if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            unmountChildren(vNode.children as Array<VNode>);\n        }\n    },\n};\n\nexport function isTeleport(value: any): value is Teleport {\n    return value && value?.__isTeleport;\n}\n\nexport type Teleport = typeof Teleport;\n", "import { VNode } from \"../vnode\";\nimport { getCurrentInstance, h } from \"..\";\n\nexport interface Transition {\n    beforeEnter?: (el: Element) => void;\n    enter?: (el: Element, done?: () => void) => void;\n    leave?: (el: Element, done?: () => void) => void;\n}\n\nfunction nextFrame(fn: () => void) {\n    requestAnimationFrame(() => {\n        requestAnimationFrame(fn);\n    });\n}\n\nexport function resolveTransitionProps(props: Record<string, any>) {\n    const {\n        name = \"v\",\n        enterFromClass = `${name}-enter-from`,\n        enterActiveClass = `${name}-enter-active`,\n        enterToClass = `${name}-enter-to`,\n        leaveFromClass = `${name}-leave-from`,\n        leaveActiveClass = `${name}-leave-active`,\n        leaveToClass = `${name}-leave-to`,\n        onBeforeEnter,\n        onEnter,\n        onLeave,\n    } = props;\n\n    return {\n        onBeforeEnter(el) {\n            onBeforeEnter && onBeforeEnter(el);\n            el.classList.add(enterFromClass);\n            el.classList.add(enterActiveClass);\n        },\n        onEnter(el, done) {\n            const resolve = () => {\n                el.classList.remove(enterToClass);\n                el.classList.remove(enterActiveClass);\n                done && done();\n            };\n            onEnter && onEnter(el, resolve);\n\n            // \u6DFB\u52A0\u540E\u4E0D\u80FD\u7ACB\u5373\u79FB\u9664\n            nextFrame(() => {\n                // \u4FDD\u8BC1\u52A8\u753B\u7684\u4EA7\u751F\n                el.classList.remove(enterFromClass);\n                el.classList.add(enterToClass);\n\n                if (!onEnter || onEnter.length <= 1) {\n                    // \u4FDD\u8BC1\u52A8\u753B\u7684\u7ED3\u675F\n                    el.addEventListener(\"transitionend\", resolve);\n                }\n            });\n        },\n        onLeave(el, done) {\n            const resolve = () => {\n                el.classList.remove(leaveActiveClass);\n                el.classList.remove(leaveToClass);\n                done && done();\n            };\n\n            el.classList.add(leaveActiveClass);\n            el.classList.add(leaveFromClass);\n            document.body.offsetHeight; // \u5F3A\u5236\u91CD\u7ED8\n\n            nextFrame(() => {\n                el.classList.remove(leaveFromClass);\n                el.classList.add(leaveToClass);\n\n                if (!onLeave || onEnter.length <= 1) {\n                    // \u4FDD\u8BC1\u52A8\u753B\u7684\u7ED3\u675F\n                    el.addEventListener(\"transitionend\", resolve);\n                }\n            });\n\n            onLeave && onLeave(el, done);\n        },\n    };\n}\n\nexport function Transition(\n    props: Record<string, any>,\n    { slots }: { slots: Record<string, () => VNode> }\n) {\n    // \u51FD\u6570\u5F0F\u7EC4\u4EF6\u529F\u80FD\u6BD4\u8F83\u5C11 \u4E3A\u4E86\u65B9\u4FBF\u51FD\u6570\u5F0F\u7EC4\u4EF6\u9664\u4E86\u5C5E\u6027\n    // \u5904\u7406\u5C5E\u6027\u540E\u4F20\u8F93\u7ED9\u72B6\u6001\u7EC4\u4EF6 setup\n    return h(BaseTransitionImpl, resolveTransitionProps(props), slots);\n}\n\nconst BaseTransitionImpl = {\n    // \u771F\u6B63\u7684\u7EC4\u4EF6\u53EA\u9700\u8981\u6E32\u67D3\u5C01\u88C5\u597D\u7684\u8DEF\u8857\n    props: {\n        onBeforeEnter: Function,\n        onEnter: Function,\n        onLeave: Function,\n    },\n    setup(props, { slots }) {\n        return () => {\n            const vnode: VNode = slots.default && slots.default();\n            const instance = getCurrentInstance();\n            if (!vnode) return;\n\n            // \u6E32\u67D3\u524D \u548C \u6E32\u67D3\u540E\n            // const oldVnode = instance.subTree; // \u4E4B\u524D\u7684\u865A\u62DF\u8282\u70B9\n            vnode.transition = {\n                beforeEnter: props.onBeforeEnter,\n                enter: props.onEnter,\n                leave: props.onLeave,\n            };\n\n            return vnode;\n        };\n    },\n};\n", "export const KeepAlive = {\n    __isKeepAlive: true,\n    setup(props, { slots }) {\n        const keys = new Set(); // \u7528\u6765\u8BB0\u5F55\u90A3\u4E9B\u7EC4\u4EF6\u7F13\u5B58\u56FD\n        const cache = new Map(); // \u7F13\u5B58\u8868\n        return () => {\n            const vnode = slots.default && slots.default();\n            if (!vnode) return;\n\n            const comp = vnode.type;\n\n            const key = vnode.key ?? comp;\n\n            return vnode;\n        };\n    },\n};\n\nexport type KeepAlive = typeof KeepAlive;\n\nexport const isKeepAlive = (val: any): val is KeepAlive => {\n    return val && val.__isKeepAlive === true;\n};\n", "import {\n    extend,\n    isArray,\n    isFunction,\n    isObject,\n    isString,\n    ShapeFlags,\n} from \"@vue/shared\";\nimport { Container, LifeCycle } from \".\";\nimport { Reactive, RefImpl } from \"@vue/reactivity\";\nimport { isTeleport, Teleport, Transition } from \"./components\";\n\nexport type ParentComponent = Instance;\n\nexport interface Instance {\n    data?: Reactive<any>;\n    vNode: VNode;\n    subTree?: VNode;\n    isMounted: boolean;\n    update?: () => void;\n    props?: Record<string, any>;\n    attrs?: Record<string, any>;\n    slots?: Record<string, () => VNode>;\n    propOptions?: Record<string, any>;\n    proxy?: Instance;\n    render?: () => VNode;\n    next?: VNode;\n    setupState?: Record<string, any>;\n    exposed?: Record<string, any>;\n    [LifeCycle.BEFORE_MOUNT]?: Array<() => void>;\n    [LifeCycle.MOUNTED]?: Array<() => void>;\n    [LifeCycle.BEFORE_UPDATE]?: Array<() => void>;\n    [LifeCycle.UPDATED]?: Array<() => void>;\n    [LifeCycle.UNMOUNTED]?: Array<() => void>;\n    parent?: ParentComponent;\n    provides: object;\n    ctx: Record<string, any>;\n}\n\nexport const Text = Symbol(\"text\");\nexport const Fragment = Symbol(\"fragment\");\n\nexport interface SetupContext {\n    emit: (event: string, ...args: any[]) => void;\n    attrs: Record<string, any>;\n    slots: Record<string, any>;\n    expose: (exposed: Record<string, any>) => void;\n}\n\nexport interface Component extends Object {\n    data?: () => Record<string, any>;\n    render: () => VNode;\n    props?: Record<string, any>;\n    setup?: (\n        props: Record<string, any>,\n        context: SetupContext\n    ) => object | (() => VNode);\n}\n\nexport type FunctionalComponent = (\n    props: Record<string, any>,\n    options: { slots: Record<string, () => VNode> }\n) => VNode;\n\nexport type VNodeTypes =\n    | string\n    | typeof Text\n    | typeof Fragment\n    | Component\n    | FunctionalComponent\n    | Teleport;\n\nexport type VNodeChildrenArrayType = Array<VNode | string | number>;\nexport type VNodeChild = VNode | string | VNodeChildrenArrayType;\n\nexport interface VNode {\n    __v_isVNode: true;\n    type: VNodeTypes;\n    props?: Record<string | symbol, any>;\n    children?:\n        | Array<VNode | string | number>\n        | string\n        | Record<string, () => VNode>;\n    key?: string;\n    shapeFlag: number;\n    el?: Container;\n    component?: Instance;\n    ref?: RefImpl;\n    target?: Container;\n    transition?: Transition;\n}\n\nexport function createVNode(\n    type: VNodeTypes,\n    props?:\n        | VNode[\"props\"]\n        | {\n              ref?: RefImpl;\n              key?: string;\n          },\n    children?: VNode[\"children\"]\n) {\n    const shapeFlag = isString(type)\n        ? ShapeFlags.ELEMENT\n        : isTeleport(type)\n        ? ShapeFlags.TELEPORT\n        : isObject(type)\n        ? ShapeFlags.COMPONENT\n        : isFunction(type)\n        ? ShapeFlags.FUNCTIONAL_COMPONENT\n        : 0;\n    const vnode: VNode = {\n        __v_isVNode: true,\n        type,\n        props,\n        key: props?.key,\n        shapeFlag,\n    };\n\n    if (props?.ref) {\n        vnode.ref = props.ref;\n    }\n\n    if (children) {\n        if (isArray(children)) {\n            vnode.shapeFlag |= ShapeFlags.ARRAY_CHILDREN;\n        } else if (isObject(children)) {\n            vnode.shapeFlag |= ShapeFlags.SLOTS_CHILDREN; // \u63D2\u69FD\n        } else {\n            children = String(children);\n            vnode.shapeFlag |= ShapeFlags.TEXT_CHILDREN;\n        }\n        vnode.children = children;\n    }\n\n    return vnode;\n}\n\nexport function isVNode(value: any): value is VNode {\n    return value ? value.__v_isVNode === true : false;\n}\n\nexport function isSameVNode(n1: VNode, n2: VNode): boolean {\n    return n1.type === n2.type && n1.key === n2.key;\n}\n", "import { isArray, isObject } from \"@vue/shared\";\nimport { createVNode, isVNode } from \"./vnode\";\n\nexport function h(type: any, propsOrChildren?: any, children?: any) {\n    let l = arguments.length;\n\n    if (l === 2) {\n        if (isVNode(propsOrChildren)) {\n            return createVNode(type, null, [propsOrChildren]);\n        } else if (isObject(propsOrChildren) && !isArray(propsOrChildren)) {\n            return createVNode(type, propsOrChildren);\n        } else {\n            return createVNode(type, null, propsOrChildren);\n        }\n    } else {\n        if (l > 3) {\n            children = Array.from(arguments).slice(2);\n        }\n        if (l === 3 && isVNode(children)) {\n            children = [children];\n        }\n\n        return createVNode(type, propsOrChildren, children);\n    }\n}\n", "export function getSequence(arr: Array<number>) {\n    const result = [0];\n    const len = arr.length;\n    let start: number;\n    let end: number;\n    let middle: number;\n\n    const dp = new Array(len).fill(0);\n\n    for (let i = 0; i < len; i++) {\n        const arrI = arr[i];\n        if (arrI === 0) continue;\n        let lastIndex = result[result.length - 1];\n        if (arr[lastIndex] < arrI) {\n            dp[i] = result[result.length - 1]; // \u6B63\u5E38\u653E\u5165\u7684\u65F6\u5019\uFF0C\u524D\u4E00\u4E2A\u8282\u70B9\u7D22\u5F15\u5C31\u662Fresult\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\n            result.push(i);\n            continue;\n        }\n\n        start = 0;\n        end = result.length - 1;\n        while (start < end) {\n            middle = Math.floor((start + end) / 2);\n            if (arr[result[middle]] < arrI) {\n                start = middle + 1;\n            } else {\n                end = middle;\n            }\n        }\n        if (arrI < arr[result[start]]) {\n            dp[i] = result[start - 1];\n            result[start] = i;\n        }\n    }\n\n    let l = result.length;\n    let last = result[l - 1];\n    while (l-- > 0) {\n        result[l] = last;\n        last = dp[last];\n    }\n\n    return result;\n}\n", "import { DirtyLevels } from \"./constants\";\nimport { recordEffectScope } from \"./effectScope\";\nimport { cleanDepEffect, Dep } from \"./reactiveEffect\";\n\nexport let activeEffect: ReactiveEffect | undefined = void 0; // \u5F53\u524D\u6B63\u5728\u6267\u884C\u7684effect\n\n// \u6BCF\u6B21\u6536\u96C6\u4F9D\u8D56\u4E4B\u524D\u90FD\u8981\u6E05\u7406\u4E00\u4E0B\u4E4B\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\nfunction preCleanEffect(effect: ReactiveEffect) {\n    effect._depLength = 0; // \u91CD\u7F6E\u4F9D\u8D56\u5173\u7CFB\u7684\u957F\u5EA6\n    effect._trackId++; // \u6BCF\u6B21\u6267\u884Cid+1, \u5982\u679C\u5F53\u671F\u540C\u4E00\u4E2Aeffect\u6267\u884C\uFF0C id\u5C31\u662F\u76F8\u540C\u7684\n}\n\nfunction postCleanEffect(effect: ReactiveEffect) {\n    if (effect.deps.length > effect._depLength) {\n        for (let i = effect._depLength; i < effect.deps.length; i++) {\n            const dep = effect.deps[i]; // \u53D6\u51FA\u4F9D\u8D56\u5173\u7CFB\n            cleanDepEffect(dep, effect); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n        }\n        effect.deps.length = effect._depLength; // \u91CD\u7F6E\u4F9D\u8D56\u5173\u7CFB\u7684\u957F\u5EA6\n    }\n}\n\nexport class ReactiveEffect {\n    public _trackId: number = 0; // \u7528\u4E8E\u8BB0\u5F55\u5F53\u524Deffect\u7684\u6267\u884C\u6B21\u6570\n    public active = true; // \u7528\u4E8E\u6807\u8BC6\u5F53\u524D\u7684effect\u662F\u5426\u5904\u4E8E\u6FC0\u6D3B\u72B6\u6001\n    public _running = 0; // \u7528\u4E8E\u6807\u8BC6\u5F53\u524D\u7684effect\u662F\u5426\u6B63\u5728\u6267\u884C\n    public _dirtyLevel = DirtyLevels.Dirty;\n    public _depLength = 0; // \u7528\u4E8E\u8BB0\u5F55\u5F53\u524Deffect\u7684\u4F9D\u8D56\u5173\u7CFB\u7684\u957F\u5EA6\n    public deps: Array<Dep> = [];\n\n    constructor(public fn: Function, public scheduler?: Function) {\n        // recordEffectScope(this); // \u8BB0\u5F55\u5F53\u524D\u7684effect\n    }\n\n    public get dirty() {\n        return this._dirtyLevel === DirtyLevels.Dirty;\n    }\n\n    public set dirty(value: boolean) {\n        this._dirtyLevel = value ? DirtyLevels.Dirty : DirtyLevels.NoDirty;\n    }\n\n    run() {\n        this.dirty = false; // \u6BCF\u6B21\u8FD0\u884C\u540E\u6B64\u503C\u5C31\u4E0D\u810F\u4E86\n\n        if (!this.active) {\n            return this.fn(); // \u6267\u884C\u6267\u884C\u6B64\u51FD\u6570\n        }\n        // \u5176\u4ED6\u60C5\u51B5\u4E0B\uFF0C \u610F\u5473\u7740\u662F\u6FC0\u6D3B\u72B6\u6001\n        let lastEffect = activeEffect;\n\n        try {\n            // \u6811\u7684\u7236\u5B50\u5173\u7CFB\n            activeEffect = this; // \u8BA9\u5F53\u524D\u7684effect\u6210\u4E3AactiveEffect\n            // effect\u91CD\u65B0\u6267\u884C\u4E4B\u524D\uFF0C \u5148\u6E05\u7406\u4E00\u4E0B\u4E4B\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n            preCleanEffect(this);\n            this._running++;\n            return this.fn(); // \u8FD9\u4E2A\u5730\u65B9\u505A\u4E86\u4F9D\u8D56\u6536\u96C6\n        } finally {\n            this._running--;\n            postCleanEffect(this); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n            // \u65E0\u8BBA\u4EFB\u4F55\u60C5\u51B5\u90FD\u4F1A\u6267\u884C\u7684\n            activeEffect = lastEffect;\n        }\n    }\n\n    stop() {\n        if (this.active) {\n            preCleanEffect(this); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n            this.active = false; // \u505C\u6B62\u6536\u96C6\u4F9D\u8D56\n            postCleanEffect(this); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n        }\n    }\n}\n\n/**\n * effect \u51FD\u6570\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u54CD\u5E94\u5F0F\u7684effect\n * @param fn fn\u51FD\u6570\u6267\u884C\u7684\u65F6\u5019\u4F1A\u6536\u96C6\u4F9D\u8D56\n * @param options options\u53EF\u9009\u53C2\u6570\uFF0C \u53EF\u4EE5\u4F20\u5165\u4E00\u4E9B\u914D\u7F6E\u5411\n * @returns\n */\nexport function effect(fn: Function, options?: Partial<ReactiveEffect>) {\n    const _effect = new ReactiveEffect(fn, () => {\n        _effect.run();\n    });\n\n    _effect.run(); // \u9ED8\u8BA4\u8BA9\u54CD\u5E94\u5F0F\u7684effect\u6267\u884C\u4E00\u6B21\n\n    // \u5982\u679C\u4F20\u9012\u4E86options\uFF0C \u5219\u5C06\u5176\u5408\u5E76\u5230_effect\u4E0A\n    if (options) {\n        Object.assign(_effect, options);\n    }\n\n    // effect\u51FD\u6570\u8FD4\u56DErunner\u51FD\u6570\uFF0C \u8FD9\u4E2A\u51FD\u6570\u53EF\u4EE5\u6267\u884Ceffect\u7684run\u65B9\u6CD5\n    const runner = _effect.run.bind(_effect); // \u8BA9runner\u7684this\u6307\u5411_effect\n\n    runner.effect = _effect; // \u5C06_effect\u6302\u8F7D\u5230runner\u4E0A. \u8FD9\u6837\u53EF\u4EE5\u5728runner\u4E0A\u83B7\u53D6\u5230_effect\u7684\u5C5E\n\n    return runner; // \u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570\uFF0C \u8FD9\u4E2A\u51FD\u6570\u53EF\u4EE5\u6267\u884Ceffect\n}\n", "import { DirtyLevels } from \"./constants\";\nimport { activeEffect, ReactiveEffect } from \"./effect\";\nimport { Target } from \"./reactive\";\n\nexport type Dep = Map<ReactiveEffect, number> & {\n    cleanup: Function; // \u6E05\u7406\u51FD\u6570\n    name?: string | symbol; // \u81EA\u5B9A\u4E49\u540D\u79F0\n};\n\nexport const createDep = (cleanup: Function, key: string | symbol): Dep => {\n    const dep = new Map() as Dep;\n    dep.cleanup = cleanup; // \u6E05\u7406\u51FD\u6570\n    dep.name = key; // \u81EA\u5B9A\u4E49\u540D\u79F0\uFF0C\u4E3A\u4E86\u6807\u8BC6\u8FD9\u4E2A\u6620\u5C04\u8868\u4E3A\u90A3\u4E2A\u5C5E\u6027\u670D\u52A1\n    return dep;\n};\n\nlet targetMap = new WeakMap<Target, Map<string | symbol, Dep>>(); // \u8BB0\u5F55\u4F9D\u8D56\u5173\u7CFB\u7684\u6620\u5C04\u8868\n\nexport function track(target: Target, key: string | symbol) {\n    if (!activeEffect) {\n        // \u53D6\u503C\u64CD\u4F5C\u6CA1\u6709\u53D1\u751F\u5728effect\u4E2D\n        return;\n    }\n\n    // \u83B7\u53D6\u8BE5\u5BF9\u8C61\u7684\u4F9D\u8D56\u5173\u7CFB\u6620\u5C04\n    let depsMap = targetMap.get(target); // \u53D6\u503C\u64CD\u4F5C\n\n    if (!depsMap) {\n        // \u65B0\u589E\u7684\n        targetMap.set(target, (depsMap = new Map()));\n    }\n\n    // \u83B7\u53D6\u8BE5\u5BF9\u8C61\u89E6\u53D1\u5C5E\u6027\u7684\u4F9D\u8D56\u5173\u7CFB\n    let dep = depsMap.get(key);\n\n    if (!dep) {\n        depsMap.set(\n            key,\n            (dep = createDep(() => {\n                depsMap.delete(key);\n            }, key))\n        );\n    }\n\n    trackEffect(activeEffect, dep); // \u4F9D\u8D56\u6536\u96C6\n}\n\nexport function cleanDepEffect(dep: Dep, effect: ReactiveEffect) {\n    // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n    dep.delete(effect); // \u5220\u9664\u5F53\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n    if (dep.size === 0) {\n        // \u5982\u679C\u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\u4E86\uFF0C \u5C31\u6E05\u7406\u6389\u8FD9\u4E2A\u4F9D\u8D56\u5173\u7CFB\n        (dep as any).cleanup(); // \u6E05\u7406\u51FD\u6570\n    }\n}\n\nexport function trackEffect(effect: ReactiveEffect, dep: Dep) {\n    // \u9700\u8981\u91CD\u65B0\u7684\u53BB\u6536\u96C6\uFF0C\u5C06\u4E0D\u9700\u8981\u7684\u79FB\u9664\u6389\n    if (dep.get(effect) !== effect._trackId) {\n        // \u8BF4\u660E\u662F\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\n        dep.set(effect, effect._trackId); // \u8BB0\u5F55\u5F53\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n\n        let oldDep = effect.deps[effect._depLength];\n        // \u5982\u679C\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\u548C\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\u4E0D\u4E00\u6837\uFF0C\u8BF4\u660E\u662F\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u90A3\u5C31\u6E05\u7406\u6389\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\n        if (oldDep !== dep) {\n            if (oldDep) {\n                // \u5220\u9664\u8C03\u8001\u7684\n                cleanDepEffect(oldDep, effect); // \u6E05\u7406\u6389\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\n            }\n            effect.deps[effect._depLength++] = dep; // \u8BB0\u5F55\u5F53\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n        }\n        // \u5982\u679C\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\u548C\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\u4E00\u6837\uFF0C\u8BF4\u660E\u662F\u540C\u4E00\u4E2A\u4F9D\u8D56\u5173\u7CFB\uFF0C\u90A3\u5C31\u4E0D\u9700\u8981\u518D\u8BB0\u5F55\u4E86\n        else {\n            effect._depLength++;\n        }\n    }\n}\n\n// \u89E6\u53D1\u66F4\u65B0\nexport function trigger(\n    target: Target,\n    key: string | symbol,\n    newValue: unknown,\n    oldValue: unknown\n) {\n    const depsMap = targetMap.get(target);\n\n    if (!depsMap) return; // \u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\n\n    const dep = depsMap.get(key); // \u53D6\u51FA\u5BF9\u5E94\u7684effect\n\n    if (!dep) return; // \u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\n    triggerEffect(dep); // \u89E6\u53D1\u66F4\u65B0\n}\n\nexport function triggerEffect(dep: Dep) {\n    for (const effect of dep.keys()) {\n        // \u5982\u679Ceffect\u73B0\u5728\u662F\u4E0D\u810F\u7684\uFF0C\u90A3\u4E48\u73B0\u5728\u9700\u8981\u66F4\u65B0\uFF0C\u5219\u5C06\u5176\u8BBE\u7F6E\u4E3A\u810F\n        if (effect._dirtyLevel < DirtyLevels.Dirty) {\n            effect.dirty = true; // \u8BBE\u7F6E\u4E3A\u810F, \u544A\u8BC9\u5176\u6211\u66F4\u65B0\u4E86\n        }\n\n        // \u5224\u65ADeffect\u662F\u5426\u6B63\u5728\u8FD0\u884C\uFF0C\u5982\u679C\u662F\u5728effect\u4E2D\u4FEE\u6539\u4E86\u503C\uFF0C \u5219\u4E0D\u9700\u8981\u518D\u6B21\u6267\u884C\n        if (!effect._running) {\n            if (effect.scheduler) {\n                effect.scheduler(); // \u8C03\u5EA6\u5668\n            }\n        }\n    }\n}\n", "import { Target, toReactive } from \"./reactive\";\nimport { activeEffect, ReactiveEffect } from \"./effect\";\nimport { createDep, Dep, trackEffect, triggerEffect } from \"./reactiveEffect\";\nimport { ComputedRefImpl } from \"./computed\";\nimport { ReactiveFlags } from \"./constants\";\n\nexport function ref(value: unknown) {\n    return createRef(value);\n}\n\nfunction createRef(value: unknown) {\n    return new RefImpl(value);\n}\n\nexport class RefImpl {\n    public [ReactiveFlags.IS_REF] = true;\n    public _value: unknown; // \u7528\u6765\u4FDD\u5B58ref\u7684\u503C\n    public dep: Dep;\n    constructor(public rawValue: unknown) {\n        this._value = toReactive(rawValue); // \u5982\u679C\u4F20\u9012\u7684\u539F\u59CB\u503C\u662F\u5BF9\u8C61\uFF0C\u5219\u8F6C\u6362\u4E3A\u54CD\u5E94\u5F0F\u5BF9\u8C61\n    }\n\n    get value() {\n        // \u4F9D\u8D56\u6536\u96C6\n        trackRefValue(this);\n\n        return this._value;\n    }\n\n    set value(newValue) {\n        if (newValue !== this.rawValue) {\n            this._value = newValue;\n            this.rawValue = newValue;\n            // \u89E6\u53D1\u66F4\u65B0\n            triggerRefValue(this);\n        }\n    }\n}\n\n// \u4F9D\u8D56\u6536\u96C6\nexport function trackRefValue(ref: RefImpl | ComputedRefImpl) {\n    if (!activeEffect) return;\n\n    let dep = ref.dep;\n\n    if (!dep) {\n        // \u5982\u679C\u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\uFF0C \u5219\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\n        dep = ref.dep = createDep((key: any) => {\n            ref.dep = undefined;\n        }, \"undefined\");\n    }\n\n    trackEffect(activeEffect, dep);\n}\n\n// \u89E6\u53D1\u66F4\u65B0\nexport function triggerRefValue(ref: RefImpl | ComputedRefImpl) {\n    let dep = ref.dep;\n    if (!dep) return; // \u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\n    triggerEffect(dep); // \u89E6\u53D1\u66F4\u65B0\n}\n\nexport class ObjectRefImpl {\n    public [ReactiveFlags.IS_REF] = true; // \u6807\u8BC6\u662Fref\u5BF9\u8C61\n    constructor(public _object: Target, public _key: string | symbol) {}\n\n    get value() {\n        return this._object[this._key];\n    }\n\n    set value(newValue: unknown) {\n        this._object[this._key] = newValue;\n    }\n}\n\nexport function toRef(target: Target, key: string | symbol): ObjectRefImpl {\n    return new ObjectRefImpl(target, key);\n}\n\nexport function toRefs(object: Target): Record<string | symbol, ObjectRefImpl> {\n    const ret = {};\n    for (const key in object) {\n        ret[key] = toRef(object, key);\n    }\n    return ret;\n}\n\nexport function proxyRefs(objectWithRef) {\n    return new Proxy(objectWithRef, {\n        get(target: Target, key: string | symbol, receiver: unknown) {\n            const r = Reflect.get(target, key, receiver);\n            return r && isRef(r) ? r.value : r; // \u5982\u679C\u662Fref\u5BF9\u8C61\uFF0C \u5219\u8FD4\u56DE\u503C\n        },\n        set(target, key, value, receiver) {\n            const r = Reflect.get(target, key, receiver);\n            if (r && isRef(r)) {\n                r.value = value; // \u5982\u679C\u662Fref\u5BF9\u8C61\uFF0C \u5219\u8BBE\u7F6E\u503C\n                return true;\n            } else {\n                return Reflect.set(target, key, value, receiver);\n            }\n        },\n    });\n}\n\nexport function isRef(value: unknown): value is RefImpl {\n    return !!(value && value[ReactiveFlags.IS_REF]);\n}\n", "import { reactive, reactiveMap, Target, toRaw } from \"./reactive\";\nimport { activeEffect } from \"./effect\";\nimport { track, trigger } from \"./reactiveEffect\";\nimport { isObject } from \"@vue/shared\";\nimport { isRef, RefImpl } from \"./ref\";\nimport { ReactiveFlags } from \"./constants\";\n\nexport const mutableHandlers = {\n    // \u7528\u6237\u53D6\u503C\u64CD\u4F5C\n    get(target: Target, key: string | symbol, receiver: unknown) {\n        // \u5224\u65AD\u662F\u5426\u662F\u4EE3\u7406\u5BF9\u8C61\n        if (key === ReactiveFlags.IS_REACTIVE) {\n            return true;\n        } else if (key === ReactiveFlags.RAW) {\n            return target;\n        }\n\n        // \u4F9D\u8D56\u6536\u96C6\n        track(target, key);\n\n        // \u53D6\u503C\u64CD\u4F5C\n        let r = Reflect.get(target, key, receiver);\n\n        if (isRef(r)) {\n            return r.value;\n        }\n\n        if (isObject(r)) {\n            // \u5982\u679C\u662F\u5BF9\u8C61\uFF0C \u7EE7\u7EED\u4EE3\u7406\n            return reactive(r);\n        }\n\n        return r;\n    },\n    // \u7528\u6237\u8BBE\u7F6E\u503C\u64CD\u4F5C\n    set(\n        target: Target,\n        key: string | symbol,\n        value: unknown,\n        receiver: unknown\n    ) {\n        let oldValue = target[key]; // \u53D6\u65E7\u503C\n\n        // Reflect.set: bool\n        let result = Reflect.set(target, key, value, receiver);\n\n        if (oldValue !== value) {\n            // \u89E6\u53D1\u66F4\u65B0\n            trigger(target, key, value, oldValue);\n        }\n\n        return result;\n    },\n};\n", "import { isObject } from \"@vue/shared\";\nimport { mutableHandlers } from \"./baseHandlers\";\nimport { ReactiveFlags } from \"./constants\";\n\nexport interface Target extends Object {\n    [ReactiveFlags.IS_REACTIVE]?: boolean;\n    [ReactiveFlags.IS_REF]?: boolean;\n}\n\n// \u7F13\u5B58\u4EE3\u7406\u5BF9\u8C61\uFF0C\u590D\u7528\uFF0C\u4F7F\u7528WeakMap\u907F\u514D\u5185\u5B58\u6CC4\u6F0F\nexport const reactiveMap = new WeakMap<Target, any>(); // key\u53EA\u80FD\u662F\u5BF9\u8C61\n\n// \u5B9A\u4E49\u4EE3\u7406\u5BF9\u8C61\u7684\u7C7B\u578B\nexport type Reactive<T extends Target> = ProxyHandler<T>;\n\n/**\n *\n * @param target \u9700\u8981\u4EE3\u7406\u7684\u5BF9\u8C61\n * @description reactive \u51FD\u6570\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u4EE3\u7406\u5BF9\u8C61\uFF0C \u8FD9\u4E2A\u5BF9\u8C61\u662F\u5BF9\u539F\u5BF9\u8C61\u7684\u4E00\u4E2A\u4EE3\u7406\uFF0C \u901A\u8FC7\u8FD9\u4E2A\u4EE3\u7406\u5BF9\u8C61\u53EF\u4EE5\u8BBF\u95EE\u539F\u5BF9\u8C61\u7684\u5C5E\u6027\n * @returns\n */\nexport function reactive<T extends object>(target: T): Reactive<T>;\nexport function reactive(target: object) {\n    return createReactiveObject(target, mutableHandlers, reactiveMap);\n}\n\nfunction createReactiveObject(\n    target: Target,\n    baseHandlers: ProxyHandler<any>,\n    proxyMap: WeakMap<Target, any>\n) {\n    // reactive \u51FD\u6570\u5FC5\u987B\u4F20\u5165\u4E00\u4E2A\u5BF9\u8C61\n    if (!isObject(target)) {\n        return target;\n    }\n\n    if (target[ReactiveFlags.IS_REACTIVE]) {\n        return target;\n    }\n\n    // \u67E5\u770B\u7F13\u5B58\uFF0C\u5982\u679C\u5DF2\u7ECF\u4EE3\u7406\u8FC7\u4E86\uFF0C\u5219\u62FF\u5230\u7F13\u5B58\u7684\u4EE3\u7406\u5BF9\u8C61\n    const existsProxy = proxyMap.get(target);\n    if (existsProxy) {\n        return existsProxy;\n    }\n\n    const proxy = new Proxy(target, baseHandlers);\n\n    // \u7F13\u5B58\u4E00\u4E0B\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\uFF0C \u4E0B\u6B21\u5728\u8FDB\u884C\u7684\u4EE3\u7406\u7684\u65F6\u5019\u76F4\u63A5\u62FF\u51FA\u6765\u5373\u53EF\n    proxyMap.set(target, proxy);\n\n    return proxy;\n}\n\nexport function toReactive(value) {\n    return isObject(value) ? reactive(value) : value;\n}\n\nexport function toRaw<T>(observed: T): T {\n    const raw = observed && observed[ReactiveFlags.RAW];\n    return raw ? raw : observed;\n}\n\nexport function isReactive(target: unknown): target is Target {\n    return !!(target && target[ReactiveFlags.IS_REACTIVE]);\n}\n", "import { ReactiveEffect } from \"./effect\";\nimport { isFunction } from \"@vue/shared\";\nimport { trackRefValue, triggerRefValue } from \"./ref\";\nimport { Dep } from \"./reactiveEffect\";\nimport { ReactiveFlags } from \"./constants\";\n\ninterface ComputedOptions {\n    get: (oldValue: any) => any;\n    set: (newValue: any) => void;\n}\n\nexport class ComputedRefImpl {\n    public [ReactiveFlags.IS_REF] = true; // \u6807\u8BC6\u662Fref\u5BF9\u8C61\n    public _value: unknown; // \u7528\u6765\u4FDD\u5B58\u8BA1\u7B97\u5C5E\u6027\u7684\u503C\n    public effect: ReactiveEffect;\n    public dep: Dep;\n\n    constructor(\n        getter: ComputedOptions[\"get\"],\n        public setter: ComputedOptions[\"set\"]\n    ) {\n        // \u6211\u4EEC\u9700\u8981\u521B\u5EFA\u4E00\u4E2Aeffect \u6765\u7BA1\u7406\u8FD9\u4E2Agetter\n        this.effect = new ReactiveEffect(\n            () => getter(this._value),\n            () => {\n                // \u8BA1\u7B97\u5C5E\u6027\u7684\u503C\u53D1\u751F\u53D8\u5316\u4E86\uFF0C \u6211\u4EEC\u5E94\u8BE5\u89E6\u53D1\u6E32\u67D3effect\u91CD\u65B0\u6267\u884C\n                triggerRefValue(this);\n            }\n        );\n    }\n\n    get value() {\n        // \u4F9D\u8D56\u6536\u96C6\n        if (this.effect.dirty) {\n            this._value = this.effect.run();\n\n            // \u5982\u679C\u5F53\u524D\u5728effect\u4E2D\u8BBF\u95EE\u4E86\u8BA1\u7B97\u5C5E\u6027\uFF0C\u8BA1\u7B97\u5C5E\u6027\u662F\u53EF\u4EE5\u6536\u96C6\u8FD9\u4E2Aeffect\u7684\n            trackRefValue(this);\n        }\n        return this._value;\n    }\n\n    set value(newValue) {\n        // \u8BA1\u7B97\u5C5E\u6027\u662F\u53EA\u8BFB\u7684\uFF0C \u5982\u679C\u7528\u6237\u8BBE\u7F6E\u4E86\u503C\uFF0C \u6211\u4EEC\u5C31\u6267\u884Csetter\n        this.setter(newValue);\n    }\n}\n\nexport function computed(\n    getterOrOptions: ComputedOptions[\"get\"] | ComputedOptions\n) {\n    let getter: ComputedOptions[\"get\"];\n    let setter: ComputedOptions[\"set\"];\n    if (isFunction(getterOrOptions)) {\n        getter = getterOrOptions as ComputedOptions[\"get\"];\n        setter = () => {};\n    } else {\n        getter = (getterOrOptions as ComputedOptions).get;\n        setter = (getterOrOptions as ComputedOptions).set ?? (() => {});\n    }\n\n    return new ComputedRefImpl(getter, setter);\n}\n", "import { isFunction, isObject } from \"@vue/shared\";\nimport { ReactiveEffect } from \"./effect\";\nimport { isReactive, Target } from \"./reactive\";\nimport { isRef, RefImpl } from \"./ref\";\n\nexport function traverse(\n    source: unknown,\n    depth?: number,\n    currentDepth = 0,\n    seen = new Set()\n) {\n    if (!isObject(source)) {\n        return source;\n    }\n\n    if (depth) {\n        if (currentDepth >= depth) {\n            return source;\n        }\n    }\n    currentDepth++; // \u6839\u636Edeep \u5C5E\u6027\u6765\u770B\u662F\u5426\u662F\u6DF1\u5EA6\n\n    // \u8003\u8651\u5FAA\u73AF\u5F15\u7528\u95EE\u9898\uFF0C \u91C7\u7528Set\n    if (seen.has(source)) {\n        return source;\n    }\n\n    seen.add(source);\n\n    for (const key in source) {\n        const value = source[key];\n        return traverse(value, depth, currentDepth, seen); // \u9012\u5F52\u904D\u5386\n    }\n}\n\ninterface WatchOptions {\n    immediate?: boolean; // \u662F\u5426\u7ACB\u5373\u6267\u884C\n    deep?: boolean; // \u662F\u5426\u6DF1\u5EA6\u76D1\u542C\n}\n\nfunction doWatch(\n    source: Target | Function,\n    cb: Function,\n    options?: WatchOptions\n) {\n    let getter: Function;\n\n    if (isReactive(source)) {\n        // \u6700\u7EC8\u90FD\u5904\u7406\u4E3A\u51FD\u6570\n        getter = () =>\n            traverse(source, options?.deep === false ? 1 : undefined); // \u76F4\u63A5\u7A0D\u540E\u8C03\u7528run\u7684\u65F6\u5019 \u4F1A\u6267\u884C\u6B64\u51FD\u6570\uFF0C \u76F4\u63A5\u8FD4\u56DE\u5BF9\u8C61\uFF0C \u53EA\u6709\u8BBF\u95EE\u5C5E\u6027\u624D\u80FD\u4F9D\u8D56\u6536\u96C6\n    } else if (isRef(source)) {\n        getter = () => source.value;\n    } else if (isFunction(source)) {\n        // \u5982\u679C\u662F\u51FD\u6570\uFF0C \u90A3\u4E48\u76F4\u63A5\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570\n        getter = source as Function;\n    }\n\n    let oldValue: undefined | Function;\n\n    let clean: () => void | undefined = undefined;\n\n    const onCleanup = (fn) => {\n        clean = () => {\n            fn();\n            clean = undefined;\n        };\n    };\n\n    const job = () => {\n        if (cb) {\n            // watch API\n            let newValue = effect.run();\n\n            if (clean) {\n                clean(); // \u5982\u679C\u6709\u6E05\u7406\u51FD\u6570\uFF0C \u90A3\u4E48\u5148\u6267\u884C\u6E05\u7406\u51FD\u6570\n            }\n\n            cb(newValue, oldValue, onCleanup); // \u8FD9\u91CC\u7684oldValue\u662F\u4E0A\u4E00\u6B21\u7684\u503C\uFF0C newValue\u662F\u8FD9\u4E00\u6B21\u7684\u503C\n\n            oldValue = newValue;\n        } else {\n            // watchEffect API\n            effect.run();\n        }\n    };\n\n    // watch \u672C\u8EAB\u5C31\u662F\u4E00\u4E2Aeffect + \u81EA\u5B9A\u4E49scheduler\n    // watchEffect \u672C\u8EAB\u5C31\u662F\u4E00\u4E2Aeffect\n    const effect = new ReactiveEffect(getter, job);\n\n    if (options?.immediate) {\n        job(); // \u5982\u679C\u662F\u7ACB\u5373\u6267\u884C\uFF0C \u90A3\u4E48\u76F4\u63A5\u6267\u884Cjob\n    } else {\n        oldValue = effect.run(); // \u4FDD\u7559\u8001\u503C\n    }\n\n    const unwatch = () => effect.stop();\n\n    return unwatch; // \u8FD4\u56DE\u4E00\u4E2A\u53D6\u6D88\u51FD\u6570\n}\n\n/**\n * watch API\n * @param source\n * @param cb\n * @param options\n * @returns\n */\nexport function watch(\n    source: Target | Function,\n    cb: Function,\n    options?: WatchOptions\n) {\n    return doWatch(source, cb, options);\n}\n\nexport function watchEffect(effect: Function, options?: WatchOptions) {\n    doWatch(effect, null, {\n        ...options,\n        immediate: true,\n    });\n}\n", "import { ReactiveEffect } from \"./effect\";\n\nexport let activeEffectScope: EffectScope | null = null;\n\nexport class EffectScope {\n    public active = true;\n    public effects: Array<ReactiveEffect> = [];\n    public parent: EffectScope | null = null;\n    public scopes: Array<EffectScope> = [];\n    constructor(detached = false) {\n        if (activeEffectScope && !detached) {\n            activeEffectScope.scopes.push(this);\n        }\n    }\n\n    run(fn: Function) {\n        if (this.active) {\n            try {\n                this.parent = activeEffectScope;\n                activeEffectScope = this;\n                return fn();\n            } finally {\n                activeEffectScope = this.parent;\n                this.parent = null;\n            }\n        }\n    }\n\n    stop() {\n        if (this.active) {\n            this.effects.forEach((effect: ReactiveEffect) => {\n                effect.stop();\n            });\n            this.active = false;\n        }\n        this.scopes.forEach((scope) => {\n            scope.stop();\n        });\n    }\n}\n\nexport function recordEffectScope(effect: ReactiveEffect) {\n    if (!(activeEffectScope && activeEffectScope.active)) {\n        return;\n    }\n    activeEffectScope.effects.push(effect);\n}\n\nexport function effectScope(detached = false) {\n    return new EffectScope(detached);\n}\n", "const queue = []; // \u7F13\u5B58\u5F53\u524D\u8981\u6267\u884C\u7684\u961F\u5217\nlet isFlushing = false; // \u662F\u5426\u6B63\u5728\u6267\u884C\u961F\u5217\nconst resolvePromise = Promise.resolve(); // \u7528\u4E8E\u5FAE\u4EFB\u52A1\u7684 Promise\n\n// \u5982\u679C\u540C\u65F6\u5728\u4E00\u4E2A\u7EC4\u4EF6\u4E2D\u66F4\u65B0\u591A\u4E2A\u72B6\u6001 job\u80AF\u5B9A\u662F\u540C\u4E00\u4E2A\n// \u540C\u65F6\u5F00\u542F\u4E00\u4E2A\u5F02\u6B65\u4EFB\u52A1\nexport function queueJob(job: () => void) {\n    if (!queue.includes(job)) {\n        queue.push(job); // \u4EFB\u52A1\u8FDB\u5165\u961F\u5217\n    }\n\n    if (!isFlushing) {\n        isFlushing = true;\n\n        resolvePromise.then(() => {\n            isFlushing = false; // \u91CD\u7F6E\u72B6\u6001\n            const copy = queue.slice(0); // \u590D\u5236\u5F53\u524D\u961F\u5217\n            queue.length = 0;\n            copy.forEach((job) => job());\n            copy.length = 0; // \u6E05\u7A7A\u590D\u5236\u7684\u961F\u5217\n        });\n    }\n}\n\n// \u901A\u8FC7\u65F6\u95F4\u5FAA\u73AF\u7684\u673A\u5236 \u5EF6\u8FDF\u66F4\u65B0\u64CD\u4F5C \u5148\u8D70\u5B8F\u4EFB\u52A1 -> \u5FAE\u4EFB\u52A1\n", "import { proxyRefs, reactive } from \"@vue/reactivity\";\nimport {\n    Component,\n    Instance,\n    ParentComponent,\n    SetupContext,\n    VNode,\n} from \"./vnode\";\nimport { hasOwn, isFunction, ShapeFlags } from \"@vue/shared\";\n\nexport function createComponentInstance(\n    vnode: VNode,\n    parentComponent?: ParentComponent\n) {\n    const type = vnode.type as Component;\n    const instance: Instance = {\n        vNode: vnode,\n        isMounted: false,\n        propOptions: type.props,\n        parent: parentComponent,\n        provides: parentComponent\n            ? (parentComponent as Instance).provides\n            : Object.create(null),\n        ctx: {},\n    };\n\n    return instance;\n}\n\nconst initProps = (instance: Instance, rawProps: Record<string, any> = {}) => {\n    const props = {};\n    const attrs = {};\n    const propOptions = instance.propOptions || {};\n\n    for (const key in rawProps) {\n        const value = rawProps[key];\n        if (key in propOptions) {\n            props[key] = value;\n        } else {\n            attrs[key] = value;\n        }\n    }\n\n    instance.props = reactive(props);\n    instance.attrs = attrs;\n};\n\nconst initSlots = (instance: Instance, children: VNode[\"children\"]) => {\n    if (instance.vNode.shapeFlag & ShapeFlags.SLOTS_CHILDREN) {\n        instance.slots = children as Record<string, () => VNode>;\n    } else {\n        instance.slots = {};\n    }\n};\n\nconst publicProperty = {\n    $attrs: (instance: Instance) => instance.attrs,\n    $slots: (instance: Instance) => instance.slots,\n    // ...\n};\n\nconst handler = {\n    get(target, key) {\n        const { data, props, setupState } = target as Instance;\n\n        if (data && hasOwn(data, key)) {\n            return data[key];\n        } else if (props && hasOwn(props, key)) {\n            return props[key];\n        } else if (setupState && hasOwn(setupState, key)) {\n            return setupState[key];\n        }\n        const getter = publicProperty[key];\n        if (getter) {\n            return getter(target);\n        }\n\n        // \u5BF9\u4E8E\u4E00\u4E9B\u65E0\u6CD5\u4FEE\u6539\u7684\u5C5E\u6027\n    },\n    // @ts-ignore\n    set(target, key, value) {\n        const { data, props, setupState } = target as Instance;\n\n        if (data && hasOwn(data, key)) {\n            // @ts-ignore\n            data[key] = value;\n        } else if (props && hasOwn(props, key)) {\n            console.warn(\"props is readonly\");\n            return false; // props\u662F\u53EA\u8BFB\u7684\n        } else if (setupState && hasOwn(setupState, key)) {\n            setupState[key] = value;\n        }\n\n        return true;\n    },\n};\n\nexport function setupComponent(instance: Instance) {\n    const { vNode } = instance;\n\n    initProps(instance, vNode.props);\n    initSlots(instance, vNode.children);\n\n    instance.proxy = new Proxy(instance, handler);\n\n    const { data = () => ({}), render, setup } = vNode.type as Component;\n\n    if (setup) {\n        const setupContext: SetupContext = {\n            slots: instance.slots,\n            attrs: instance.attrs,\n            emit(event: string, ...payload: Array<any>) {\n                const eventName = `on${\n                    event[0].toUpperCase() + event.slice(1)\n                }`;\n                if (\n                    (instance.vNode.props,\n                    hasOwn(instance.vNode.props, eventName))\n                ) {\n                    const handler = instance.vNode.props[eventName];\n                    if (isFunction(handler)) {\n                        handler(...payload);\n                    } else {\n                        console.warn(\n                            `Event handler for ${eventName} is not a function`\n                        );\n                    }\n                }\n            },\n            expose(value: Record<string, any>) {\n                instance.exposed = value;\n            },\n        };\n        setCurrentInstance(instance);\n        const setupRes = setup(instance.props, setupContext);\n        unsetCurrentInstance();\n\n        if (isFunction(setupRes)) {\n            instance.render = setupRes as () => VNode;\n        } else {\n            instance.setupState = proxyRefs(setupRes);\n        }\n    }\n\n    if (!isFunction(data)) return console.warn(\"data must be a function\");\n\n    // data \u4E2D\u53EF\u4EE5\u62FF\u5230props\n    instance.data = reactive(data.call(instance.proxy));\n\n    // \u5982\u679C\u5DF2\u7ECF\u6709\u4E86setup\u4E2D\u7684render\u51FD\u6570\uFF0C\u5219\u4E0D\u9700\u8981\u518D\u8BBE\u7F6E\n    if (!instance.render) {\n        instance.render = render;\n    }\n}\n\nexport let currentInstance: Instance | null = null;\nexport const getCurrentInstance = (): Instance => {\n    return currentInstance;\n};\nexport const setCurrentInstance = (instance: Instance) => {\n    currentInstance = instance;\n};\nexport const unsetCurrentInstance = () => {\n    currentInstance = null;\n};\n", "import {\n    currentInstance,\n    setCurrentInstance,\n    unsetCurrentInstance,\n} from \"./component\";\n\nexport const enum LifeCycle {\n    BEFORE_MOUNT = \"bm\", // beforeMount\n    MOUNTED = \"m\", // mounted\n    BEFORE_UPDATE = \"bu\", // beforeUpdate\n    UPDATED = \"u\", // updated\n    UNMOUNTED = \"um\", // unmounted\n    // ACTIVATED = \"a\", // activated\n    // DEACTIVATED = \"da\", // deactivated\n}\n\nconst createHook = (lifeCycle: LifeCycle) => {\n    return (hook, target = currentInstance) => {\n        // \u5728\u6216\u6267\u884Chook\u7684\u65F6\u5019\u9700\u8981\u4FDD\u8BC1instance\u7684\u6B63\u786E\n\n        if (target) {\n            const hooks = target[lifeCycle] || (target[lifeCycle] = []);\n\n            const wrapHook = () => {\n                setCurrentInstance(target);\n                hook.call(target);\n                unsetCurrentInstance();\n            };\n\n            hooks.push(wrapHook);\n        }\n    };\n};\n\nexport const onBeforeMount = createHook(LifeCycle.BEFORE_MOUNT);\nexport const onMounted = createHook(LifeCycle.MOUNTED);\nexport const onBeforeUpdate = createHook(LifeCycle.BEFORE_UPDATE);\nexport const onUpdated = createHook(LifeCycle.UPDATED);\nexport const onUnmounted = createHook(LifeCycle.UNMOUNTED);\n\nexport const invokeArray = (fns: Array<() => void>) => {\n    fns.forEach((fn) => fn());\n};\n", "import { hasOwn, isArray, isString, ShapeFlags } from \"@vue/shared\";\nimport {\n    Component,\n    Fragment,\n    FunctionalComponent,\n    Instance,\n    isSameVNode,\n    ParentComponent,\n    VNode,\n    VNodeTypes,\n} from \"./vnode\";\nimport { getSequence } from \"./seq\";\nimport { Text } from \"./vnode\";\nimport { isRef, reactive, Reactive, ReactiveEffect } from \"@vue/reactivity\";\nimport { queueJob } from \"./scheduler\";\nimport { createComponentInstance, setupComponent } from \"./component\";\nimport { invokeArray } from \"./apiLifecycle\";\nimport { createVNode } from \"./vnode\";\nimport { h } from \"./h\";\nimport { isKeepAlive, Teleport } from \"./components\";\n\nexport interface RenderOptions<HostNode = any, HostElement = any> {\n    patchProp(\n        el: HostElement,\n        key: string,\n        prevValue: any,\n        nextValue: any\n    ): void;\n    insert(child: HostNode, parent: HostNode, anchor?: HostNode | null): void;\n    remove(child: HostNode): void;\n    createElement(type: VNodeTypes): HostElement;\n    createText(text: string): HostNode;\n    createComment(common: string): HostNode;\n    setText(node: HostNode, text: string): void;\n    setElementText(el: HostElement, text: string): void;\n    parentNode(node: HostNode): HostNode | null;\n    nextSibling(node: HostNode): HostNode | null;\n    querySelector(selector: string): HostElement | null;\n    cloneNode(node: HostNode): HostNode;\n}\n\nexport type Container = Record<string | symbol, any> & {\n    _vnode?: VNode;\n};\n\n/**\n * core\u4E2D\u4E0D\u5173\u5FC3\u5982\u4F55\u6E32\u67D3\uFF0C\u53EA\u5173\u5FC3\u6E32\u67D3\u7684API\n * \u53EF\u4EE5\u8DE8\u5E73\u53F0\u4F7F\u7528\n * @param renderOptions\n * @returns\n */\nexport function createRenderer(renderOptions: RenderOptions) {\n    const {\n        insert: hostInsert,\n        remove: hostRemove,\n        createElement: hostCreateElement,\n        createText: hostCreateText,\n        createComment: hostCreateComment,\n        setText: hostSetText,\n        setElementText: hostSetElementText,\n        parentNode: hostParentNode,\n        nextSibling: hostNextSibling,\n        querySelector: hostQuerySelector,\n        cloneNode: hostCloneNode,\n        patchProp: hostPatchProp,\n    } = renderOptions;\n\n    const normalize = (children: Array<VNode | string | number>) => {\n        for (let i = 0; i < children.length; i++) {\n            let child = children[i];\n            // \u9012\u5F52\u6E32\u67D3\u5B50\u8282\u70B9\n\n            if (typeof child === \"string\" || typeof child === \"number\") {\n                child = children[i] = createVNode(Text, null, String(child));\n            }\n        }\n        return children as Array<VNode>;\n    };\n\n    const mountChildren = (\n        children: Array<VNode | string | number>,\n        container: Container,\n        anchor: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        normalize(children);\n        children.forEach((child: VNode) => {\n            // \u9012\u5F52\u6E32\u67D3\u5B50\u8282\u70B9\n            patch(null, child, container, anchor, parentComponent);\n        });\n    };\n\n    /**\n     * \u6E32\u67D3\u4E00\u4E2A\u865A\u62DF\u8282\u70B9\u5230\u5BB9\u5668\u4E2D\n     * @param vnode\n     * @param container\n     */\n    const mountElement = (\n        vnode: VNode,\n        container: Container,\n        anchor?: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        const { type, children, props, shapeFlag, transition } = vnode;\n\n        // \u7B2C\u4E00\u6B21\u6E32\u67D3\u7684\u65F6\u5019\u6211\u4EEC\u8BA9\u865A\u62DF\u8282\u70B9\u548C\u771F\u5B9Edom\u521B\u5EFA\u5173\u8054\uFF0Cvnode.el = \u771F\u5B9Edom\n        // \u7B2C\u4E8C\u6B21\u6E32\u67D3\u65B0\u7684vnode,\u53EF\u4EE5\u548C\u4E0A\u4E00\u6B21\u7684vnode\u505A\u5BF9\u6BD4\uFF0C\u4E4B\u540E\u66F4\u65B0\u5BF9\u5E94\u7684el\u5143\u7D20\uFF0C\u53EF\u4EE5\u540E\u7EED\u590D\u7528\u8FD9\u4E2Adom\u5143\u7D20\n        const el = (vnode.el = hostCreateElement(type));\n\n        if (props) {\n            for (const key in props) {\n                hostPatchProp(el, key, null, props[key]);\n            }\n        }\n\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            hostSetElementText(el, children as string);\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            mountChildren(\n                children as Array<VNode>,\n                el,\n                anchor,\n                parentComponent\n            );\n        }\n\n        if (transition) {\n            transition.beforeEnter(el);\n        }\n\n        hostInsert(el, container, anchor);\n\n        if (transition) {\n            transition.enter(el);\n        }\n    };\n\n    /**\n     * \u66F4\u65B0\u5143\u7D20\u7684\u5C5E\u6027\n     * @param prevProps \u4E4B\u524D\u7684\u5C5E\u6027\n     * @param nextProps \u4E0B\u4E00\u4E2A\u5C5E\u6027\n     * @param container \u5BB9\u5668\n     */\n    const patchProps = (\n        prevProps: Record<string, any>,\n        nextProps: Record<string, any>,\n        container: Container\n    ) => {\n        for (const key in nextProps) {\n            hostPatchProp(container, key, prevProps[key], nextProps[key]);\n        }\n\n        for (const key in prevProps) {\n            if (!(key in nextProps)) {\n                // \u5982\u679C\u4E4B\u524D\u7684\u5C5E\u6027\u5728\u65B0\u7684\u5C5E\u6027\u4E2D\u4E0D\u5B58\u5728\uFF0C\u5219\u9700\u8981\u79FB\u9664\n                hostPatchProp(container, key, prevProps[key], null);\n            }\n        }\n    };\n\n    const unmountChildren = (children: Array<VNode>) => {\n        children.forEach((child: VNode) => {\n            unmount(child);\n        });\n    };\n\n    /**\n     * \u5168\u91CFdiff\uFF1A\u6BD4\u8F83\u4E24\u4E2A\u513F\u5B50\u7684\u5DEE\u5F02\u66F4\u65B0el\n     * @param prevChildren\n     * @param nextChildren\n     * @param container\n     */\n    const patchKeyedChildren = (\n        prevChildren: Array<VNode>,\n        nextChildren: Array<VNode>,\n        container: Container\n    ) => {\n        // \u51CF\u5C11\u5BF9\u6BD4\u8303\u56F4\uFF0C\u5148\u4ECE\u5934\u5F00\u59CB\u6BD4\uFF0C\u5728\u4ECE\u5C3E\u90E8\u5F00\u59CB\u6BD4\uFF0C\u786E\u5B9A\u4E0D\u4E00\u6837\u7684\u8303\u56F4\n        // \u4ECE\u5934\u5BF9\u6BD4\uFF0C\u5728\u4ECE\u5C3E\u90E8\u5BF9\u6BD4\uFF0C\u5982\u679C\u591A\u51FA\u5728\u4EE3\u8868\u65B0\u589E\uFF0C\u5982\u679C\u5C11\u51FA\u5728\u4EE3\u8868\u5220\u9664\n\n        let i = 0;\n        let e1 = prevChildren.length - 1;\n        let e2 = nextChildren.length - 1;\n\n        //\n        while (i <= e1 && i <= e2) {\n            // \u4EFB\u4F55\u4E00\u65B9\u7ED3\u675F\u6E32\u67D3 \u5C31\u8981\u7EC8\u6B62\u5BF9\u6BD4\n            const prevVNode = prevChildren[i];\n            const nextVNode = nextChildren[i];\n            if (isSameVNode(prevVNode, nextVNode)) {\n                patch(prevVNode, nextVNode, container);\n            } else {\n                break;\n            }\n            i++;\n        }\n\n        while (i <= e1 && i <= e2) {\n            const prevVNode = prevChildren[e1];\n            const nextVNode = nextChildren[e2];\n            if (isSameVNode(prevVNode, nextVNode)) {\n                patch(prevVNode, nextVNode, container);\n            } else {\n                break;\n            }\n            e1--;\n            e2--;\n        }\n\n        /**\n         * a b c\n         * a b c d\n         * i e1 e2\n         * 3 2 3\n         */\n\n        /**\n         * a b c\n         * d e a b c\n         * i e1 e2\n         * 0 -1 1\n         */\n\n        // i > e1 && i >= e2 \u65B0\u589E\n\n        if (i > e1) {\n            if (i <= e2) {\n                const nextPos = e2 + 1;\n                let anchor =\n                    nextPos < nextChildren.length\n                        ? nextChildren[nextPos].el\n                        : void 0;\n                while (i <= e2) {\n                    patch(null, nextChildren[i], container, anchor);\n                    i++;\n                }\n            }\n        }\n\n        /**\n         * a b c\n         * a b\n         * i e1 e2\n         * 2 2 1\n         */\n\n        /**\n         * a b c\n         * c\n         * i e1 e2\n         * 0 1 -1\n         */\n\n        // i <= e1 && i > e2 \u5220\u9664\n        else if (i > e2) {\n            if (i <= e1) {\n                while (i <= e1) {\n                    unmount(prevChildren[i]);\n                    i++;\n                }\n            }\n        } else {\n            // \u5176\u4ED6\u5C31\u662F\u672A\u77E5\u5E8F\u5217\n\n            /**\n             * a b c d e f g\n             * a b e c d h f g\n             * i e1 e2\n             * 2 4 5\n             */\n            let s1 = i;\n            let s2 = i;\n            // s1 -> e1\n            // s2 -> e2\n            const keyToNewIndexMap = new Map<string, number>();\n\n            for (let i = s2; i <= e2; i++) {\n                const nextVNode = nextChildren[i];\n                keyToNewIndexMap.set(nextVNode.key as string, i);\n            }\n\n            let toBePatched = e2 - s2 + 1; // \u8981\u5012\u53D9\u63D2\u5165\u7684\u4E2A\u6570\n            let newIndexToOldMapIndex = new Array(toBePatched).fill(0);\n\n            for (let i = s1; i <= e1; i++) {\n                const prevVNode = prevChildren[i];\n                const newIndex = keyToNewIndexMap.get(prevVNode.key as string);\n\n                // \u8001\u7684\u8282\u70B9\u5728\u65B0\u7684\u8282\u70B9\u4E2D\u4E0D\u5B58\u5728\n                if (newIndex === undefined) {\n                    unmount(prevVNode);\n                } else {\n                    newIndexToOldMapIndex[newIndex - s2] = i + 1; // +1\u662F\u4E3A\u4E860\u4F4D\u7F6E\u5143\u7D20\u548C\u4E0D\u5B58\u5728\u7684\u5143\u7D20\u4E0D\u51B2\u7A81\n                    // \u6BD4\u8F83\u524D\u540E\u8282\u70B9\u7684\u5DEE\u5F02\uFF0C\u66F4\u65B0\u5C5E\u6027\u548C\u513F\u5B50\n                    patch(prevVNode, nextChildren[newIndex], container); // \u590D\u7528\u8282\u70B9\n                }\n            }\n\n            const seq = getSequence(newIndexToOldMapIndex);\n\n            let j = seq.length - 1;\n            // \u8C03\u6574\u987A\u5E8F\n            // \u6211\u4EEC\u53EF\u4EE5\u6309\u7167\u65B0\u7684\u961F\u5217 \u5012\u5E8F\u63D2\u5165insertBefore \u901A\u8FC7\u53C2\u7167\u7269\u5F80\u524D\u9762\u63D2\u5165\n\n            // \u63D2\u5165\u7684\u8FC7\u7A0B\u4E2D\u65B0\u7684\u5143\u7D20\u53EF\u80FD\u591A \u9700\u8981\u521B\u5EFA\n\n            for (let i = toBePatched - 1; i >= 0; i--) {\n                let newIndex = s2 + i; // \u65B0\u7684\u5143\u7D20\u7684\u7D22\u5F15\n                let anchor =\n                    newIndex + 1 < nextChildren.length\n                        ? nextChildren[newIndex + 1].el\n                        : null;\n\n                const vNode = nextChildren[newIndex];\n\n                if (i !== seq[j]) {\n                    // \u65B0\u7684\u5143\u7D20\n                    hostInsert(vNode.el, container, anchor);\n                } else {\n                    j--;\n                }\n            }\n        }\n    };\n\n    /**\n     * \u66F4\u65B0\u5B50\u5143\u7D20\n     * @param prevVNode\n     * @param nextVNode\n     * @param container\n     */\n    const patchChildren = (\n        prevVNode: VNode,\n        nextVNode: VNode,\n        container: Container,\n        anchor?: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        // \u513F\u5B50\u6709\u53EF\u80FD\u662F\u6570\u7EC4 / \u6587\u672C\n        const { el } = nextVNode;\n        const c1 = prevVNode.children;\n        const c2 = isArray(nextVNode.children)\n            ? normalize(nextVNode.children as Array<VNode | string | number>)\n            : nextVNode.children;\n        const prevShapeFlag = prevVNode.shapeFlag;\n        const nextShapeFlag = nextVNode.shapeFlag;\n\n        if (nextShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            // \u65B0\u7684\u662F\u6587\u672C\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                unmountChildren(c1 as Array<VNode>);\n            }\n            if (c1 !== c2) {\n                hostSetElementText(el, c2 as string);\n            }\n        }\n        // \u65B0\u7684\u4E0D\u4F1A\u662F\u6587\u672C\n        else {\n            if (prevShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                // \u8001\u7684\u662F\u6570\u7EC4\n                if (nextShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                    // \u65B0\u7684\u4E5F\u662F\u6570\u7EC4\n                    // TODO: \u5168\u91CFdiff\n                    patchKeyedChildren(\n                        c1 as Array<VNode>,\n                        c2 as Array<VNode>,\n                        el\n                    );\n                } else {\n                    // \u65B0\u7684\u4E0D\u662F\u6570\u7EC4\n                    unmountChildren(c1 as Array<VNode>);\n                }\n            } else {\n                if (prevShapeFlag & ShapeFlags.TEXT_CHILDREN) {\n                    // \u8001\u7684\u662F\u6587\u672C\n                    hostSetElementText(el, \"\");\n                }\n                if (nextShapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                    mountChildren(\n                        c2 as Array<VNode>,\n                        el,\n                        anchor,\n                        parentComponent\n                    );\n                }\n            }\n        }\n    };\n\n    /**\n     * \u66F4\u65B0\u5143\u7D20\n     * \u6BD4\u8F83\u5143\u7D20\u7684\u5DEE\u5F02\n     * \u6BD4\u8F83\u5C5E\u6027\u7684\u5DEE\u5F02\n     * \u6BD4\u8F83\u5B50\u5143\u7D20\u7684\u5DEE\u5F02\n     * @param prevVNode\n     * @param nextVNode\n     * @param container\n     */\n    const patchElement = (\n        prevVNode: VNode,\n        nextVNode: VNode,\n        container: Container,\n        anchor?: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        let el = (nextVNode.el = prevVNode.el); // dom\u5143\u7D20\u590D\u7528\n        const prevProps = prevVNode.props || {};\n        const nextProps = nextVNode.props || {};\n\n        patchProps(prevProps, nextProps, el);\n        patchChildren(prevVNode, nextVNode, el, anchor, parentComponent);\n    };\n\n    /**\n     * \u5143\u7D20\u7684\u5904\u7406\u903B\u8F91\n     * @param prevVNode\n     * @param nextVNode\n     * @param container\n     */\n    const processElement = (\n        prevVNode: VNode | null,\n        nextVNode: VNode,\n        container: Container,\n        anchor?: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        if (!prevVNode) {\n            // \u5982\u679C\u4E4B\u524D\u6CA1\u6709\u865A\u62DF\u8282\u70B9\uFF0C\u8BF4\u660E\u662F\u7B2C\u4E00\u6B21\u6E32\u67D3\n            mountElement(nextVNode, container, anchor, parentComponent);\n        } else {\n            patchElement(\n                prevVNode,\n                nextVNode,\n                container,\n                anchor,\n                parentComponent\n            );\n        }\n    };\n\n    const processText = (\n        prevVNode: VNode | null,\n        nextVNode: VNode,\n        container: Container\n    ) => {\n        if (!prevVNode) {\n            // \u865A\u62DF\u8282\u70B9\u4E2D\u9700\u8981\u5173\u8054\u771F\u5B9E\u8282\u70B9\n            hostInsert(\n                (nextVNode.el = hostCreateText(nextVNode.children as string)),\n                container\n            );\n        } else {\n            nextVNode.el = prevVNode.el; // \u590D\u7528\u6587\u672C\u8282\u70B9\n            if (nextVNode.children !== prevVNode.children) {\n                hostSetText(nextVNode.el, nextVNode.children as string);\n            }\n        }\n    };\n\n    const processFragment = (\n        prevVNode: VNode | null,\n        nextVNode: VNode,\n        container: Container,\n        anchor: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        if (!prevVNode) {\n            // \u5982\u679C\u4E4B\u524D\u6CA1\u6709\u865A\u62DF\u8282\u70B9\uFF0C\u8BF4\u660E\u662F\u7B2C\u4E00\u6B21\u6E32\u67D3\n            mountChildren(\n                nextVNode.children as Array<VNode>,\n                container,\n                anchor,\n                parentComponent\n            );\n        } else {\n            // \u66F4\u65B0\u5B50\u8282\u70B9\n            patchChildren(\n                prevVNode,\n                nextVNode,\n                container,\n                anchor,\n                parentComponent\n            );\n        }\n    };\n\n    const updateComponentPreRender = (instance: Instance, next: VNode) => {\n        instance.next = void 0; // \u6E05\u7A7A\u4E0B\u4E00\u4E2A\u865A\u62DF\u8282\u70B9\n        instance.vNode = next; // \u66F4\u65B0\u5F53\u524D\u865A\u62DF\u8282\u70B9\n        updateProps(instance, instance.props, next.props);\n        // \u7EC4\u4EF6\u66F4\u65B0\u7684\u65F6\u5019\u9700\u8981\u66F4\u65B0\u63D2\u69FD\n        Object.assign(instance.slots, next.children || {});\n    };\n\n    function renderComponent(instance: Instance) {\n        const { render, vNode, proxy, attrs, slots } = instance;\n        if (vNode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT) {\n            return render.call(proxy, proxy);\n        } else {\n            return (vNode.type as FunctionalComponent)(attrs || {}, {\n                slots,\n            });\n        }\n    }\n\n    const setupRenderEffect = (\n        instance: Instance,\n        container: Container,\n        anchor?: Container\n    ) => {\n        const componentUpdateFn = () => {\n            // \u6211\u4EEC\u8981\u5728\u8FD9\u91CC\u533A\u5206\uFF0C\u662F\u7B2C\u4E00\u6B21\u8FD8\u662F\u4E4B\u540E\u7684\n            const { bm, m } = instance;\n            if (!instance.isMounted) {\n                if (bm) {\n                    invokeArray(bm);\n                }\n                const subTree = renderComponent(instance);\n                patch(null, subTree, container, anchor, instance);\n                instance.subTree = subTree;\n                instance.isMounted = true;\n\n                if (m) {\n                    // \u7EC4\u4EF6\u6302\u8F7D\u5B8C\u6210\n                    invokeArray(m);\n                }\n            } else {\n                // \u57FA\u4E8E\u72B6\u6001\u7684\u5C5E\u6027\u66F4\u65B0\n\n                const { next, bu, u } = instance;\n\n                if (next) {\n                    // \u66F4\u65B0\u5C5E\u6027\u63D2\u69FD\n                    updateComponentPreRender(instance, next);\n                }\n\n                if (bu) {\n                    invokeArray(bu);\n                }\n\n                const subTree = renderComponent(instance);\n                patch(instance.subTree, subTree, container, anchor, instance);\n                instance.subTree = subTree;\n\n                if (u) {\n                    // \u7EC4\u4EF6\u66F4\u65B0\u5B8C\u6210\n                    invokeArray(u);\n                }\n            }\n        };\n\n        const update = (instance.update = () => {\n            effect.run();\n        });\n\n        const effect = new ReactiveEffect(componentUpdateFn, () =>\n            queueJob(update)\n        );\n\n        update();\n    };\n\n    const mountComponent = (\n        nextVNode: VNode,\n        container: Container,\n        anchor?: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        // 1. \u5148\u521B\u5EFA\u7EC4\u4EF6\u5B9E\u4F8B\n        const instance = (nextVNode.component = createComponentInstance(\n            nextVNode,\n            parentComponent\n        ));\n\n        if (isKeepAlive(nextVNode.type)) {\n            debugger;\n            instance.ctx.renderer = {\n                createElement: hostCreateElement, // \u5185\u90E8\u9700\u8981\u521B\u5EFA\u4E00\u4E2Adiv\u6765\u7F13\u5B58dom\n                move(vnode: VNode, container: Container) {\n                    // \u9700\u8981\u628A\u4E4B\u524D\u7684dom\u79FB\u52A8\u5230\u65B0\u7684\u5BB9\u5668\u4E2D\n                    hostInsert(vnode.component.subTree.el, container);\n                },\n                unmount, // \u5982\u679C\u7EC4\u4EF6\u5207\u6362\u9700\u8981\u5C06\u73B0\u5728\u5BB9\u5668\u4E2D\u7684\u5143\u7D20\u79FB\u9664\n            };\n        }\n\n        // 2. \u7ED9\u5B9E\u4F8B\u7684\u5C5E\u6027\u8D4B\u503C\n        setupComponent(instance);\n\n        // 3. \u521B\u5EFA\u4E00\u4E2Aeffect\n        setupRenderEffect(instance, container, anchor);\n    };\n\n    const hasPropsChange = (\n        prevProps: Record<string, any>,\n        nextProps: Record<string, any>\n    ) => {\n        if (Object.keys(prevProps).length !== Object.keys(nextProps).length) {\n            return true;\n        }\n        for (const key in nextProps) {\n            if (nextProps[key] !== prevProps[key]) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    const updateProps = (\n        instance: Instance,\n        prevProps: Record<string, any>,\n        nextProps: Record<string, any>\n    ) => {\n        if (hasPropsChange(prevProps, nextProps)) {\n            for (const key in nextProps) {\n                instance.props[key] = nextProps[key];\n            }\n\n            for (const key in instance.props) {\n                if (!(key in nextProps)) {\n                    // \u5982\u679C\u65B0\u7684\u5C5E\u6027\u4E2D\u6CA1\u6709\u8FD9\u4E2A\u5C5E\u6027\uFF0C\u5219\u9700\u8981\u5220\u9664\n                    delete instance.props[key];\n                }\n            }\n        }\n    };\n\n    const shouldComponentUpdate = (n1: VNode, n2: VNode) => {\n        const { props: prevProps, children: prevChildren } = n1;\n        const { props: nextProps, children: nextChildren } = n2;\n\n        if (prevChildren || nextChildren) return true; // \u5982\u679C\u6709\u63D2\u69FD\u76F4\u63A5\u66F4\u65B0\n\n        if (prevProps === nextProps) return false; // \u5982\u679C\u5C5E\u6027\u6CA1\u6709\u53D8\u5316\u5219\u4E0D\u66F4\u65B0\n\n        return hasPropsChange(prevProps || {}, nextProps || {}); // \u5982\u679C\u5C5E\u6027\u6709\u53D8\u5316\u5219\u66F4\u65B0\n    };\n\n    const updateComponent = (prevVNode: VNode, nextVNode: VNode) => {\n        const instance = (nextVNode.component = prevVNode.component);\n\n        if (shouldComponentUpdate(prevVNode, nextVNode)) {\n            instance.next = nextVNode; // \u8BB0\u5F55\u4E0B\u4E00\u4E2A\u865A\u62DF\u8282\u70B9\n            instance.update();\n        }\n    };\n\n    /**\n     * \u7EC4\u4EF6\u7684\u5904\u7406\n     * @param prevVNode\n     * @param nextVNode\n     * @param container\n     * @param anchor\n     */\n    const processComponent = (\n        prevVNode: VNode | null,\n        nextVNode: VNode,\n        container: Container,\n        anchor?: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        if (!prevVNode) {\n            mountComponent(nextVNode, container, anchor, parentComponent);\n        } else {\n            // \u7EC4\u4EF6\u7684\u66F4\u65B0\n            updateComponent(prevVNode, nextVNode);\n        }\n    };\n\n    /**\n     * \u6E32\u67D3\u8D70\u8FD9\u91CC\uFF0C\u66F4\u65B0\u4E5F\u8D70\u8FD9\u91CC\n     * @param prevVNode \u4E4B\u524D\u7684\u865A\u62DF\u8282\u70B9\n     * @param nextVNode \u4E0B\u4E00\u4E2A\u865A\u62DF\u8282\u70B9\n     * @param container \u5BB9\u5668\n     */\n    const patch = (\n        prevVNode: VNode | null,\n        nextVNode: VNode,\n        container: Container,\n        anchor?: Container,\n        parentComponent?: ParentComponent\n    ) => {\n        if (prevVNode === nextVNode) {\n            // \u4E24\u6B21\u6E32\u67D3\u540C\u4E00\u4E2A\u865A\u62DF\u8282\u70B9\u76F4\u63A5\u8DF3\u8FC7\n            return;\n        }\n\n        if (prevVNode && !isSameVNode(prevVNode, nextVNode)) {\n            // \u5982\u679C\u4E0D\u662F\u76F8\u540C\u8282\u70B9\n            unmount(prevVNode);\n            prevVNode = null; // \u540E\u9762\u4F1A\u6267\u884CnextVNode\u7684\u6E32\u67D3\u903B\u8F91\n        }\n\n        const { type, shapeFlag, ref } = nextVNode;\n\n        switch (type) {\n            case Text:\n                processText(prevVNode, nextVNode, container);\n                break;\n            case Fragment:\n                processFragment(\n                    prevVNode,\n                    nextVNode,\n                    container,\n                    anchor,\n                    parentComponent\n                );\n                break;\n            default:\n                if (shapeFlag & ShapeFlags.ELEMENT) {\n                    processElement(\n                        prevVNode,\n                        nextVNode,\n                        container,\n                        anchor,\n                        parentComponent\n                    );\n                } else if (shapeFlag & ShapeFlags.COMPONENT) {\n                    // \u5BF9\u7EC4\u4EF6\u7684\u5904\u7406 vue3\u4E2D\u51FD\u6570\u548C\u5F0F\u7EC4\u4EF6 \u5DF2\u7ECF\u5E9F\u5F03 \u6CA1\u6709\u6027\u80FD\u8282\u7EA6\n                    processComponent(\n                        prevVNode,\n                        nextVNode,\n                        container,\n                        anchor,\n                        parentComponent\n                    );\n                } else if (shapeFlag & ShapeFlags.TELEPORT) {\n                    (type as Teleport).process(\n                        prevVNode,\n                        nextVNode,\n                        container,\n                        anchor,\n                        parentComponent,\n                        {\n                            mountChildren,\n                            patchChildren,\n                            move(\n                                vnode: VNode,\n                                container: Container,\n                                anchor: Container\n                            ) {\n                                hostInsert(\n                                    vnode.component\n                                        ? vnode.component.subTree.el\n                                        : vnode.el,\n                                    container,\n                                    anchor\n                                );\n                            },\n                        }\n                    );\n                }\n                break;\n        }\n\n        if (ref) {\n            setRef(ref, nextVNode);\n        }\n    };\n\n    const setRef = (ref: VNode[\"ref\"], vnode: VNode) => {\n        const value =\n            vnode.shapeFlag & ShapeFlags.STATEFUL_COMPONENT\n                ? vnode.component.exposed || vnode.component.proxy\n                : vnode.el;\n\n        if (isRef(ref)) {\n            ref.value = value; // \u5982\u679C\u662Fref\u5219\u76F4\u63A5\u8D4B\u503C\n        }\n    };\n\n    const unmount = (vnode: VNode) => {\n        const preformRemove = () => hostRemove(vnode.el);\n        if (vnode.type === Fragment) {\n            unmountChildren(vnode.children as Array<VNode>);\n        } else if (vnode.shapeFlag & ShapeFlags.COMPONENT) {\n            // \u7EC4\u4EF6\u7684\u5378\u8F7D \u5B9E\u9645\u4E0A\u662F\u5378\u8F7D\u7EC4\u4EF6\u7684\u5B50\u6811\n            const um = vnode.component.um;\n            if (um) {\n                invokeArray(um);\n            }\n            unmount(vnode.component.subTree);\n        } else if (vnode.shapeFlag & ShapeFlags.TELEPORT) {\n            (vnode.type as Teleport).remove(vnode, unmountChildren);\n        } else {\n            const { el } = vnode;\n            if (el) {\n                if (vnode.transition) {\n                    vnode.transition.leave(vnode.el, preformRemove);\n                } else {\n                    preformRemove();\n                }\n            }\n        }\n    };\n\n    /**\n     * \u5C06\u865A\u62DF\u8282\u70B9\u8FDB\u884C\u6E32\u67D3\n     * \u591A\u6B21\u8C03\u7528render \u4F1A\u8FDB\u884C\u865A\u62DF\u8282\u70B9\u7684\u6BD4\u8F83\uFF0C\u5728\u8FDB\u884C\u66F4\u65B0\n     * @param vnode \u865A\u62DF\u8282\u70B9\n     * @param container \u5BB9\u5668\n     */\n    const render = (vnode: VNode | null, container: Container) => {\n        if (vnode === null) {\n            // \u79FB\u9664\u5F53\u524D\u865A\u62DF\u8282\u70B9\n            if (container._vnode) {\n                unmount(container._vnode);\n            }\n        } else {\n            // \u5C06\u865A\u62DF\u673A\u7535\u53D8\u6210\u771F\u5B9E\u8282\u70B9\u8FDB\u884C\u6E32\u67D3\n            patch(container._vnode || null, vnode, container);\n\n            // \u8BB0\u5F55\u5F53\u524D\u5BB9\u5668\u7684\u865A\u62DF\u8282\u70B9\n            container._vnode = vnode;\n        }\n    };\n\n    return {\n        render,\n    };\n}\n", "import { hasOwn } from \"@vue/shared\";\nimport { currentInstance } from \".\";\n\nexport function provide(key, value) {\n    if (!currentInstance) {\n        console.warn(\n            \"provide() can only be used inside setup() or lifecycle hooks.\"\n        );\n        return;\n    }\n\n    const parentProvides = currentInstance.parent?.provides;\n\n    let provides = currentInstance.provides;\n\n    if (parentProvides === provide) {\n        provides = currentInstance.provides = Object.create(parentProvides);\n    }\n\n    provides[key] = value;\n}\n\nexport function inject(key) {\n    if (!currentInstance) {\n        console.warn(\n            \"inject() can only be used inside setup() or lifecycle hooks.\"\n        );\n        return;\n    }\n\n    const parentProvides = currentInstance.parent?.provides;\n\n    if (parentProvides && hasOwn(parentProvides, key)) {\n        return parentProvides[key];\n    }\n}\n", "import { extend } from \"@vue/shared\";\nimport { nodeOps } from \"./nodeOps\";\nimport patchProp from \"./patchProp\";\nimport { createRenderer } from \"@vue/runtime-core\";\nimport type { Container, RenderOptions, VNode } from \"@vue/runtime-core\";\n\nexport type DomRenderOptions = RenderOptions<Node, Element>;\n\nexport * from \"@vue/runtime-core\";\n\nexport const domRenderOptions = extend(\n    { patchProp },\n    nodeOps\n) as any as DomRenderOptions;\n\n/**\n * render\u91C7\u7528DOM API\u6765\u8FDB\u884C\u6E32\u67D3\n * @param vnode\n * @param container\n * @returns\n */\nexport const render = (vnode: VNode, container: Container) => {\n    return createRenderer(domRenderOptions).render(vnode, container);\n};\n"],
  "mappings": "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",
  "names": ["effect", "effect", "ref", "_a", "reactiveMap", "toRaw", "_a", "effect", "effect", "job", "render", "handler", "LifeCycle", "patchProps", "i", "render", "effect", "container", "ref", "anchor"]
}
