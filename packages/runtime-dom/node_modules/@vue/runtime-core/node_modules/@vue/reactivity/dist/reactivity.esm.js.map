{
  "version": 3,
  "sources": ["../../shared/src/index.ts", "../src/effect.ts", "../src/reactiveEffect.ts", "../src/ref.ts", "../src/baseHandlers.ts", "../src/reactive.ts", "../src/computed.ts", "../src/watch.ts", "../src/effectScope.ts"],
  "sourcesContent": ["export * from \"./shapeFlags\";\n\nexport function isObject(value: unknown): value is object {\n    return typeof value === \"object\" && value !== null;\n}\n\nexport function isFunction(value: unknown): value is Function {\n    return typeof value === \"function\";\n}\n\nexport function isString(value: unknown): value is string {\n    return typeof value === \"string\";\n}\n\nexport const ownProperty = Object.hasOwn;\n\nexport const invokeArrayFn = (fns: Function[]) => {\n    fns.forEach((fn) => fn());\n};\n\nexport const objectToString: typeof Object.prototype.toString =\n    Object.prototype.toString;\n\nexport const toTypeString = (value: unknown): string =>\n    objectToString.call(value);\n\nexport const toRawType = (value: unknown): string => {\n    return toTypeString(value).slice(8, -1);\n};\n\nexport const isArray: typeof Array.isArray = Array.isArray;\n\nexport const isIntegerKey = (key: unknown): boolean =>\n    isString(key) &&\n    key !== \"NAN\" &&\n    key[0] !== \"-\" &&\n    \"\" + parseInt(key as string, 10) === key;\n\nexport const hasOwnProperty: typeof Object.prototype.hasOwnProperty =\n    Object.prototype.hasOwnProperty;\n\nexport const hasOwn = (\n    value: object,\n    key: string | symbol\n): key is keyof typeof value => hasOwnProperty.call(value, key);\n\nexport const hasChanged = (value: any, oldValue: any): boolean =>\n    !Object.is(value, oldValue);\n\nexport const isSymbol = (value: unknown): value is symbol =>\n    typeof value === \"symbol\";\n", "import { DirtyLevels } from \"./constants\";\nimport { recordEffectScope } from \"./effectScope\";\nimport { cleanDepEffect, Dep } from \"./reactiveEffect\";\n\nexport let activeEffect: ReactiveEffect | undefined = void 0; // \u5F53\u524D\u6B63\u5728\u6267\u884C\u7684effect\n\n// \u6BCF\u6B21\u6536\u96C6\u4F9D\u8D56\u4E4B\u524D\u90FD\u8981\u6E05\u7406\u4E00\u4E0B\u4E4B\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\nfunction preCleanEffect(effect: ReactiveEffect) {\n    effect._depLength = 0; // \u91CD\u7F6E\u4F9D\u8D56\u5173\u7CFB\u7684\u957F\u5EA6\n    effect._trackId++; // \u6BCF\u6B21\u6267\u884Cid+1, \u5982\u679C\u5F53\u671F\u540C\u4E00\u4E2Aeffect\u6267\u884C\uFF0C id\u5C31\u662F\u76F8\u540C\u7684\n}\n\nfunction postCleanEffect(effect: ReactiveEffect) {\n    if (effect.deps.length > effect._depLength) {\n        for (let i = effect._depLength; i < effect.deps.length; i++) {\n            const dep = effect.deps[i]; // \u53D6\u51FA\u4F9D\u8D56\u5173\u7CFB\n            cleanDepEffect(dep, effect); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n        }\n        effect.deps.length = effect._depLength; // \u91CD\u7F6E\u4F9D\u8D56\u5173\u7CFB\u7684\u957F\u5EA6\n    }\n}\n\nexport class ReactiveEffect {\n    public _trackId: number = 0; // \u7528\u4E8E\u8BB0\u5F55\u5F53\u524Deffect\u7684\u6267\u884C\u6B21\u6570\n    public active = true; // \u7528\u4E8E\u6807\u8BC6\u5F53\u524D\u7684effect\u662F\u5426\u5904\u4E8E\u6FC0\u6D3B\u72B6\u6001\n    public _running = 0; // \u7528\u4E8E\u6807\u8BC6\u5F53\u524D\u7684effect\u662F\u5426\u6B63\u5728\u6267\u884C\n    public _dirtyLevel = DirtyLevels.Dirty;\n    public _depLength = 0; // \u7528\u4E8E\u8BB0\u5F55\u5F53\u524Deffect\u7684\u4F9D\u8D56\u5173\u7CFB\u7684\u957F\u5EA6\n    public deps: Array<Dep> = [];\n\n    constructor(public fn: Function, public scheduler?: Function) {\n        // recordEffectScope(this); // \u8BB0\u5F55\u5F53\u524D\u7684effect\n    }\n\n    public get dirty() {\n        return this._dirtyLevel === DirtyLevels.Dirty;\n    }\n\n    public set dirty(value: boolean) {\n        this._dirtyLevel = value ? DirtyLevels.Dirty : DirtyLevels.NoDirty;\n    }\n\n    run() {\n        this.dirty = false; // \u6BCF\u6B21\u8FD0\u884C\u540E\u6B64\u503C\u5C31\u4E0D\u810F\u4E86\n\n        if (!this.active) {\n            return this.fn(); // \u6267\u884C\u6267\u884C\u6B64\u51FD\u6570\n        }\n        // \u5176\u4ED6\u60C5\u51B5\u4E0B\uFF0C \u610F\u5473\u7740\u662F\u6FC0\u6D3B\u72B6\u6001\n        let lastEffect = activeEffect;\n\n        try {\n            // \u6811\u7684\u7236\u5B50\u5173\u7CFB\n            activeEffect = this; // \u8BA9\u5F53\u524D\u7684effect\u6210\u4E3AactiveEffect\n            // effect\u91CD\u65B0\u6267\u884C\u4E4B\u524D\uFF0C \u5148\u6E05\u7406\u4E00\u4E0B\u4E4B\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n            preCleanEffect(this);\n            this._running++;\n            return this.fn(); // \u8FD9\u4E2A\u5730\u65B9\u505A\u4E86\u4F9D\u8D56\u6536\u96C6\n        } finally {\n            this._running--;\n            postCleanEffect(this); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n            // \u65E0\u8BBA\u4EFB\u4F55\u60C5\u51B5\u90FD\u4F1A\u6267\u884C\u7684\n            activeEffect = lastEffect;\n        }\n    }\n\n    stop() {\n        if (this.active) {\n            preCleanEffect(this); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n            this.active = false; // \u505C\u6B62\u6536\u96C6\u4F9D\u8D56\n            postCleanEffect(this); // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n        }\n    }\n}\n\n/**\n * effect \u51FD\u6570\u7528\u4E8E\u521B\u5EFA\u4E00\u4E2A\u54CD\u5E94\u5F0F\u7684effect\n * @param fn fn\u51FD\u6570\u6267\u884C\u7684\u65F6\u5019\u4F1A\u6536\u96C6\u4F9D\u8D56\n * @param options options\u53EF\u9009\u53C2\u6570\uFF0C \u53EF\u4EE5\u4F20\u5165\u4E00\u4E9B\u914D\u7F6E\u5411\n * @returns\n */\nexport function effect(fn: Function, options?: Partial<ReactiveEffect>) {\n    const _effect = new ReactiveEffect(fn, () => {\n        _effect.run();\n    });\n\n    _effect.run(); // \u9ED8\u8BA4\u8BA9\u54CD\u5E94\u5F0F\u7684effect\u6267\u884C\u4E00\u6B21\n\n    // \u5982\u679C\u4F20\u9012\u4E86options\uFF0C \u5219\u5C06\u5176\u5408\u5E76\u5230_effect\u4E0A\n    if (options) {\n        Object.assign(_effect, options);\n    }\n\n    // effect\u51FD\u6570\u8FD4\u56DErunner\u51FD\u6570\uFF0C \u8FD9\u4E2A\u51FD\u6570\u53EF\u4EE5\u6267\u884Ceffect\u7684run\u65B9\u6CD5\n    const runner = _effect.run.bind(_effect); // \u8BA9runner\u7684this\u6307\u5411_effect\n\n    runner.effect = _effect; // \u5C06_effect\u6302\u8F7D\u5230runner\u4E0A. \u8FD9\u6837\u53EF\u4EE5\u5728runner\u4E0A\u83B7\u53D6\u5230_effect\u7684\u5C5E\n\n    return runner; // \u8FD4\u56DE\u4E00\u4E2A\u51FD\u6570\uFF0C \u8FD9\u4E2A\u51FD\u6570\u53EF\u4EE5\u6267\u884Ceffect\n}\n", "import { DirtyLevels } from \"./constants\";\nimport { activeEffect, ReactiveEffect } from \"./effect\";\nimport { Target } from \"./reactive\";\n\nexport type Dep = Map<ReactiveEffect, number> & {\n    cleanup: Function; // \u6E05\u7406\u51FD\u6570\n    name?: string | symbol; // \u81EA\u5B9A\u4E49\u540D\u79F0\n};\n\nexport const createDep = (cleanup: Function, key: string | symbol): Dep => {\n    const dep = new Map() as Dep;\n    dep.cleanup = cleanup; // \u6E05\u7406\u51FD\u6570\n    dep.name = key; // \u81EA\u5B9A\u4E49\u540D\u79F0\uFF0C\u4E3A\u4E86\u6807\u8BC6\u8FD9\u4E2A\u6620\u5C04\u8868\u4E3A\u90A3\u4E2A\u5C5E\u6027\u670D\u52A1\n    return dep;\n};\n\nlet targetMap = new WeakMap<Target, Map<string | symbol, Dep>>(); // \u8BB0\u5F55\u4F9D\u8D56\u5173\u7CFB\u7684\u6620\u5C04\u8868\n\nexport function track(target: Target, key: string | symbol) {\n    if (!activeEffect) {\n        // \u53D6\u503C\u64CD\u4F5C\u6CA1\u6709\u53D1\u751F\u5728effect\u4E2D\n        return;\n    }\n\n    // \u83B7\u53D6\u8BE5\u5BF9\u8C61\u7684\u4F9D\u8D56\u5173\u7CFB\u6620\u5C04\n    let depsMap = targetMap.get(target); // \u53D6\u503C\u64CD\u4F5C\n\n    if (!depsMap) {\n        // \u65B0\u589E\u7684\n        targetMap.set(target, (depsMap = new Map()));\n    }\n\n    // \u83B7\u53D6\u8BE5\u5BF9\u8C61\u89E6\u53D1\u5C5E\u6027\u7684\u4F9D\u8D56\u5173\u7CFB\n    let dep = depsMap.get(key);\n\n    if (!dep) {\n        depsMap.set(\n            key,\n            (dep = createDep(() => {\n                depsMap.delete(key);\n            }, key))\n        );\n    }\n\n    trackEffect(activeEffect, dep); // \u4F9D\u8D56\u6536\u96C6\n}\n\nexport function cleanDepEffect(dep: Dep, effect: ReactiveEffect) {\n    // \u6E05\u7406\u4F9D\u8D56\u5173\u7CFB\n    dep.delete(effect); // \u5220\u9664\u5F53\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n    if (dep.size === 0) {\n        // \u5982\u679C\u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\u4E86\uFF0C \u5C31\u6E05\u7406\u6389\u8FD9\u4E2A\u4F9D\u8D56\u5173\u7CFB\n        (dep as any).cleanup(); // \u6E05\u7406\u51FD\u6570\n    }\n}\n\nexport function trackEffect(effect: ReactiveEffect, dep: Dep) {\n    // \u9700\u8981\u91CD\u65B0\u7684\u53BB\u6536\u96C6\uFF0C\u5C06\u4E0D\u9700\u8981\u7684\u79FB\u9664\u6389\n    if (dep.get(effect) !== effect._trackId) {\n        // \u8BF4\u660E\u662F\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\n        dep.set(effect, effect._trackId); // \u8BB0\u5F55\u5F53\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n\n        let oldDep = effect.deps[effect._depLength];\n        console.log(oldDep, dep);\n        // \u5982\u679C\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\u548C\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\u4E0D\u4E00\u6837\uFF0C\u8BF4\u660E\u662F\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\uFF0C\u90A3\u5C31\u6E05\u7406\u6389\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\n        if (oldDep !== dep) {\n            if (oldDep) {\n                // \u5220\u9664\u8C03\u8001\u7684\n                cleanDepEffect(oldDep, effect); // \u6E05\u7406\u6389\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\n            }\n            effect.deps[effect._depLength++] = dep; // \u8BB0\u5F55\u5F53\u524D\u7684\u4F9D\u8D56\u5173\u7CFB\n        }\n        // \u5982\u679C\u8001\u7684\u4F9D\u8D56\u5173\u7CFB\u548C\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\u4E00\u6837\uFF0C\u8BF4\u660E\u662F\u540C\u4E00\u4E2A\u4F9D\u8D56\u5173\u7CFB\uFF0C\u90A3\u5C31\u4E0D\u9700\u8981\u518D\u8BB0\u5F55\u4E86\n        else {\n            effect._depLength++;\n        }\n    }\n}\n\n// \u89E6\u53D1\u66F4\u65B0\nexport function trigger(\n    target: Target,\n    key: string | symbol,\n    newValue: unknown,\n    oldValue: unknown\n) {\n    const depsMap = targetMap.get(target);\n\n    if (!depsMap) return; // \u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\n\n    const dep = depsMap.get(key); // \u53D6\u51FA\u5BF9\u5E94\u7684effect\n\n    if (!dep) return; // \u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\n    triggerEffect(dep); // \u89E6\u53D1\u66F4\u65B0\n}\n\nexport function triggerEffect(dep: Dep) {\n    for (const effect of dep.keys()) {\n        // \u5982\u679Ceffect\u73B0\u5728\u662F\u4E0D\u810F\u7684\uFF0C\u90A3\u4E48\u73B0\u5728\u9700\u8981\u66F4\u65B0\uFF0C\u5219\u5C06\u5176\u8BBE\u7F6E\u4E3A\u810F\n        if (effect._dirtyLevel < DirtyLevels.Dirty) {\n            effect.dirty = true; // \u8BBE\u7F6E\u4E3A\u810F, \u544A\u8BC9\u5176\u6211\u66F4\u65B0\u4E86\n        }\n\n        // \u5224\u65ADeffect\u662F\u5426\u6B63\u5728\u8FD0\u884C\uFF0C\u5982\u679C\u662F\u5728effect\u4E2D\u4FEE\u6539\u4E86\u503C\uFF0C \u5219\u4E0D\u9700\u8981\u518D\u6B21\u6267\u884C\n        if (!effect._running) {\n            if (effect.scheduler) {\n                effect.scheduler(); // \u8C03\u5EA6\u5668\n            }\n        }\n    }\n}\n", "import { Target, toReactive } from \"./reactive\";\nimport { activeEffect, ReactiveEffect } from \"./effect\";\nimport { createDep, Dep, trackEffect, triggerEffect } from \"./reactiveEffect\";\nimport { ComputedRefImpl } from \"./computed\";\nimport { ReactiveFlags } from \"./constants\";\n\nexport function ref(value: unknown) {\n    return createRef(value);\n}\n\nfunction createRef(value: unknown) {\n    return new RefImpl(value);\n}\n\nexport class RefImpl {\n    public [ReactiveFlags.IS_REF] = true;\n    public _value: unknown; // \u7528\u6765\u4FDD\u5B58ref\u7684\u503C\n    public dep: Dep;\n    constructor(public rawValue: unknown) {\n        this._value = toReactive(rawValue); // \u5982\u679C\u4F20\u9012\u7684\u539F\u59CB\u503C\u662F\u5BF9\u8C61\uFF0C\u5219\u8F6C\u6362\u4E3A\u54CD\u5E94\u5F0F\u5BF9\u8C61\n    }\n\n    get value() {\n        // \u4F9D\u8D56\u6536\u96C6\n        trackRefValue(this);\n\n        return this._value;\n    }\n\n    set value(newValue) {\n        if (newValue !== this.rawValue) {\n            this._value = newValue;\n            this.rawValue = newValue;\n            // \u89E6\u53D1\u66F4\u65B0\n            triggerRefValue(this);\n        }\n    }\n}\n\n// \u4F9D\u8D56\u6536\u96C6\nexport function trackRefValue(ref: RefImpl | ComputedRefImpl) {\n    if (!activeEffect) return;\n\n    let dep = ref.dep;\n\n    if (!dep) {\n        // \u5982\u679C\u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\uFF0C \u5219\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684\u4F9D\u8D56\u5173\u7CFB\n        dep = ref.dep = createDep((key: any) => {\n            ref.dep = undefined;\n        }, \"undefined\");\n    }\n\n    trackEffect(activeEffect, dep);\n}\n\n// \u89E6\u53D1\u66F4\u65B0\nexport function triggerRefValue(ref: RefImpl | ComputedRefImpl) {\n    let dep = ref.dep;\n    if (!dep) return; // \u6CA1\u6709\u4F9D\u8D56\u5173\u7CFB\n    triggerEffect(dep); // \u89E6\u53D1\u66F4\u65B0\n}\n\nexport class ObjectRefImpl {\n    public [ReactiveFlags.IS_REF] = true; // \u6807\u8BC6\u662Fref\u5BF9\u8C61\n    constructor(public _object: Target, public _key: string | symbol) {}\n\n    get value() {\n        return this._object[this._key];\n    }\n\n    set value(newValue: unknown) {\n        this._object[this._key] = newValue;\n    }\n}\n\nexport function toRef(target: Target, key: string | symbol): ObjectRefImpl {\n    return new ObjectRefImpl(target, key);\n}\n\nexport function toRefs(object: Target): Record<string | symbol, ObjectRefImpl> {\n    const ret = {};\n    for (const key in object) {\n        ret[key] = toRef(object, key);\n    }\n    return ret;\n}\n\nexport function proxyRefs(objectWithRef) {\n    return new Proxy(objectWithRef, {\n        get(target: Target, key: string | symbol, receiver: unknown) {\n            const r = Reflect.get(target, key, receiver);\n            return r && isRef(r) ? r.value : r; // \u5982\u679C\u662Fref\u5BF9\u8C61\uFF0C \u5219\u8FD4\u56DE\u503C\n        },\n        set(target, key, value, receiver) {\n            const r = Reflect.get(target, key, receiver);\n            if (r && isRef(r)) {\n                r.value = value; // \u5982\u679C\u662Fref\u5BF9\u8C61\uFF0C \u5219\u8BBE\u7F6E\u503C\n                return true;\n            } else {\n                return Reflect.set(target, key, value, receiver);\n            }\n        },\n    });\n}\n\nexport function isRef(value: unknown): value is RefImpl {\n    return !!(value && value[ReactiveFlags.IS_REF]);\n}\n", "import { reactive, reactiveMap, Target, toRaw } from \"./reactive\";\nimport { activeEffect } from \"./effect\";\nimport { track, trigger } from \"./reactiveEffect\";\nimport { isObject } from \"@vue/shared\";\nimport { isRef, RefImpl } from \"./ref\";\nimport { ReactiveFlags } from \"./constants\";\n\nexport const mutableHandlers = {\n    // \u7528\u6237\u53D6\u503C\u64CD\u4F5C\n    get(target: Target, key: string | symbol, receiver: unknown) {\n        // \u5224\u65AD\u662F\u5426\u662F\u4EE3\u7406\u5BF9\u8C61\n        if (key === ReactiveFlags.IS_REACTIVE) {\n            return true;\n        } else if (key === ReactiveFlags.RAW) {\n            return target;\n        }\n\n        // \u4F9D\u8D56\u6536\u96C6\n        track(target, key);\n\n        // \u53D6\u503C\u64CD\u4F5C\n        let r = Reflect.get(target, key, receiver);\n\n        if (isRef(r)) {\n            return r.value;\n        }\n\n        if (isObject(r)) {\n            // \u5982\u679C\u662F\u5BF9\u8C61\uFF0C \u7EE7\u7EED\u4EE3\u7406\n            return reactive(r);\n        }\n\n        return r;\n    },\n    // \u7528\u6237\u8BBE\u7F6E\u503C\u64CD\u4F5C\n    set(\n        target: Target,\n        key: string | symbol,\n        value: unknown,\n        receiver: unknown\n    ) {\n        let oldValue = target[key]; // \u53D6\u65E7\u503C\n\n        // Reflect.set: bool\n        let result = Reflect.set(target, key, value, receiver);\n\n        if (oldValue !== value) {\n            // \u89E6\u53D1\u66F4\u65B0\n            trigger(target, key, value, oldValue);\n        }\n\n        return result;\n    },\n};\n", "import { isObject } from \"@vue/shared\";\nimport { mutableHandlers } from \"./baseHandlers\";\nimport { ReactiveFlags } from \"./constants\";\n\nexport interface Target extends Object {\n    [ReactiveFlags.IS_REACTIVE]?: boolean;\n    [ReactiveFlags.IS_REF]?: boolean;\n}\n\n// \u7F13\u5B58\u4EE3\u7406\u5BF9\u8C61\uFF0C\u590D\u7528\uFF0C\u4F7F\u7528WeakMap\u907F\u514D\u5185\u5B58\u6CC4\u6F0F\nexport const reactiveMap = new WeakMap<Target, any>(); // key\u53EA\u80FD\u662F\u5BF9\u8C61\n\n// \u5B9A\u4E49\u4EE3\u7406\u5BF9\u8C61\u7684\u7C7B\u578B\ntype Reactive<T extends Target> = ProxyHandler<T>;\n\n/**\n *\n * @param target \u9700\u8981\u4EE3\u7406\u7684\u5BF9\u8C61\n * @description reactive \u51FD\u6570\u4F1A\u8FD4\u56DE\u4E00\u4E2A\u4EE3\u7406\u5BF9\u8C61\uFF0C \u8FD9\u4E2A\u5BF9\u8C61\u662F\u5BF9\u539F\u5BF9\u8C61\u7684\u4E00\u4E2A\u4EE3\u7406\uFF0C \u901A\u8FC7\u8FD9\u4E2A\u4EE3\u7406\u5BF9\u8C61\u53EF\u4EE5\u8BBF\u95EE\u539F\u5BF9\u8C61\u7684\u5C5E\u6027\n * @returns\n */\nexport function reactive<T extends object>(target: T): Reactive<T>;\nexport function reactive(target: object) {\n    return createReactiveObject(target, mutableHandlers, reactiveMap);\n}\n\nfunction createReactiveObject(\n    target: Target,\n    baseHandlers: ProxyHandler<any>,\n    proxyMap: WeakMap<Target, any>\n) {\n    // reactive \u51FD\u6570\u5FC5\u987B\u4F20\u5165\u4E00\u4E2A\u5BF9\u8C61\n    if (!isObject(target)) {\n        return target;\n    }\n\n    if (target[ReactiveFlags.IS_REACTIVE]) {\n        return target;\n    }\n\n    // \u67E5\u770B\u7F13\u5B58\uFF0C\u5982\u679C\u5DF2\u7ECF\u4EE3\u7406\u8FC7\u4E86\uFF0C\u5219\u62FF\u5230\u7F13\u5B58\u7684\u4EE3\u7406\u5BF9\u8C61\n    const existsProxy = proxyMap.get(target);\n    if (existsProxy) {\n        return existsProxy;\n    }\n\n    const proxy = new Proxy(target, baseHandlers);\n\n    // \u7F13\u5B58\u4E00\u4E0B\u4EE3\u7406\u8FC7\u7684\u5BF9\u8C61\uFF0C \u4E0B\u6B21\u5728\u8FDB\u884C\u7684\u4EE3\u7406\u7684\u65F6\u5019\u76F4\u63A5\u62FF\u51FA\u6765\u5373\u53EF\n    proxyMap.set(target, proxy);\n\n    return proxy;\n}\n\nexport function toReactive(value) {\n    return isObject(value) ? reactive(value) : value;\n}\n\nexport function toRaw<T>(observed: T): T {\n    const raw = observed && observed[ReactiveFlags.RAW];\n    return raw ? raw : observed;\n}\n\nexport function isReactive(target: unknown): target is Target {\n    return !!(target && target[ReactiveFlags.IS_REACTIVE]);\n}\n", "import { ReactiveEffect } from \"./effect\";\nimport { isFunction } from \"@vue/shared\";\nimport { trackRefValue, triggerRefValue } from \"./ref\";\nimport { Dep } from \"./reactiveEffect\";\nimport { ReactiveFlags } from \"./constants\";\n\ninterface ComputedOptions {\n    get: (oldValue: any) => any;\n    set: (newValue: any) => void;\n}\n\nexport class ComputedRefImpl {\n    public [ReactiveFlags.IS_REF] = true; // \u6807\u8BC6\u662Fref\u5BF9\u8C61\n    public _value: unknown; // \u7528\u6765\u4FDD\u5B58\u8BA1\u7B97\u5C5E\u6027\u7684\u503C\n    public effect: ReactiveEffect;\n    public dep: Dep;\n\n    constructor(\n        getter: ComputedOptions[\"get\"],\n        public setter: ComputedOptions[\"set\"]\n    ) {\n        // \u6211\u4EEC\u9700\u8981\u521B\u5EFA\u4E00\u4E2Aeffect \u6765\u7BA1\u7406\u8FD9\u4E2Agetter\n        this.effect = new ReactiveEffect(\n            () => getter(this._value),\n            () => {\n                // \u8BA1\u7B97\u5C5E\u6027\u7684\u503C\u53D1\u751F\u53D8\u5316\u4E86\uFF0C \u6211\u4EEC\u5E94\u8BE5\u89E6\u53D1\u6E32\u67D3effect\u91CD\u65B0\u6267\u884C\n                triggerRefValue(this);\n            }\n        );\n    }\n\n    get value() {\n        // \u4F9D\u8D56\u6536\u96C6\n        if (this.effect.dirty) {\n            this._value = this.effect.run();\n\n            // \u5982\u679C\u5F53\u524D\u5728effect\u4E2D\u8BBF\u95EE\u4E86\u8BA1\u7B97\u5C5E\u6027\uFF0C\u8BA1\u7B97\u5C5E\u6027\u662F\u53EF\u4EE5\u6536\u96C6\u8FD9\u4E2Aeffect\u7684\n            trackRefValue(this);\n        }\n        return this._value;\n    }\n\n    set value(newValue) {\n        // \u8BA1\u7B97\u5C5E\u6027\u662F\u53EA\u8BFB\u7684\uFF0C \u5982\u679C\u7528\u6237\u8BBE\u7F6E\u4E86\u503C\uFF0C \u6211\u4EEC\u5C31\u6267\u884Csetter\n        this.setter(newValue);\n    }\n}\n\nexport function computed(\n    getterOrOptions: ComputedOptions[\"get\"] | ComputedOptions\n) {\n    let getter: ComputedOptions[\"get\"];\n    let setter: ComputedOptions[\"set\"];\n    if (isFunction(getterOrOptions)) {\n        getter = getterOrOptions as ComputedOptions[\"get\"];\n        setter = () => {};\n    } else {\n        getter = (getterOrOptions as ComputedOptions).get;\n        setter = (getterOrOptions as ComputedOptions).set ?? (() => {});\n    }\n\n    return new ComputedRefImpl(getter, setter);\n}\n", "import { isFunction, isObject } from \"@vue/shared\";\nimport { ReactiveEffect } from \"./effect\";\nimport { isReactive, Target } from \"./reactive\";\nimport { isRef, RefImpl } from \"./ref\";\n\nexport function traverse(\n    source: unknown,\n    depth?: number,\n    currentDepth = 0,\n    seen = new Set()\n) {\n    if (!isObject(source)) {\n        return source;\n    }\n\n    if (depth) {\n        if (currentDepth >= depth) {\n            return source;\n        }\n    }\n    currentDepth++; // \u6839\u636Edeep \u5C5E\u6027\u6765\u770B\u662F\u5426\u662F\u6DF1\u5EA6\n\n    // \u8003\u8651\u5FAA\u73AF\u5F15\u7528\u95EE\u9898\uFF0C \u91C7\u7528Set\n    if (seen.has(source)) {\n        return source;\n    }\n\n    seen.add(source);\n\n    for (const key in source) {\n        const value = source[key];\n        return traverse(value, depth, currentDepth, seen); // \u9012\u5F52\u904D\u5386\n    }\n}\n\ninterface WatchOptions {\n    immediate?: boolean; // \u662F\u5426\u7ACB\u5373\u6267\u884C\n    deep?: boolean; // \u662F\u5426\u6DF1\u5EA6\u76D1\u542C\n}\n\nfunction doWatch(\n    source: Target | Function,\n    cb: Function,\n    options?: WatchOptions\n) {\n    let getter: Function;\n\n    if (isReactive(source)) {\n        // \u6700\u7EC8\u90FD\u5904\u7406\u4E3A\u51FD\u6570\n        getter = () =>\n            traverse(source, options?.deep === false ? 1 : undefined); // \u76F4\u63A5\u7A0D\u540E\u8C03\u7528run\u7684\u65F6\u5019 \u4F1A\u6267\u884C\u6B64\u51FD\u6570\uFF0C \u76F4\u63A5\u8FD4\u56DE\u5BF9\u8C61\uFF0C \u53EA\u6709\u8BBF\u95EE\u5C5E\u6027\u624D\u80FD\u4F9D\u8D56\u6536\u96C6\n    } else if (isRef(source)) {\n        getter = () => source.value;\n    } else if (isFunction(source)) {\n        // \u5982\u679C\u662F\u51FD\u6570\uFF0C \u90A3\u4E48\u76F4\u63A5\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570\n        getter = source as Function;\n    }\n\n    let oldValue: undefined | Function;\n\n    let clean: () => void | undefined = undefined;\n\n    const onCleanup = (fn) => {\n        clean = () => {\n            fn();\n            clean = undefined;\n        };\n    };\n\n    const job = () => {\n        if (cb) {\n            // watch API\n            let newValue = effect.run();\n\n            if (clean) {\n                clean(); // \u5982\u679C\u6709\u6E05\u7406\u51FD\u6570\uFF0C \u90A3\u4E48\u5148\u6267\u884C\u6E05\u7406\u51FD\u6570\n            }\n\n            cb(newValue, oldValue, onCleanup); // \u8FD9\u91CC\u7684oldValue\u662F\u4E0A\u4E00\u6B21\u7684\u503C\uFF0C newValue\u662F\u8FD9\u4E00\u6B21\u7684\u503C\n\n            oldValue = newValue;\n        } else {\n            // watchEffect API\n            effect.run();\n        }\n    };\n\n    // watch \u672C\u8EAB\u5C31\u662F\u4E00\u4E2Aeffect + \u81EA\u5B9A\u4E49scheduler\n    // watchEffect \u672C\u8EAB\u5C31\u662F\u4E00\u4E2Aeffect\n    const effect = new ReactiveEffect(getter, job);\n\n    if (options?.immediate) {\n        job(); // \u5982\u679C\u662F\u7ACB\u5373\u6267\u884C\uFF0C \u90A3\u4E48\u76F4\u63A5\u6267\u884Cjob\n    } else {\n        oldValue = effect.run(); // \u4FDD\u7559\u8001\u503C\n    }\n\n    const unwatch = () => effect.stop();\n\n    return unwatch; // \u8FD4\u56DE\u4E00\u4E2A\u53D6\u6D88\u51FD\u6570\n}\n\n/**\n * watch API\n * @param source\n * @param cb\n * @param options\n * @returns\n */\nexport function watch(\n    source: Target | Function,\n    cb: Function,\n    options?: WatchOptions\n) {\n    return doWatch(source, cb, options);\n}\n\nexport function watchEffect(effect: Function, options?: WatchOptions) {\n    doWatch(effect, null, {\n        ...options,\n        immediate: true,\n    });\n}\n", "import { ReactiveEffect } from \"./effect\";\n\nexport let activeEffectScope: EffectScope | null = null;\n\nexport class EffectScope {\n    public active = true;\n    public effects: Array<ReactiveEffect> = [];\n    public parent: EffectScope | null = null;\n    public scopes: Array<EffectScope> = [];\n    constructor(detached = false) {\n        if (activeEffectScope && !detached) {\n            activeEffectScope.scopes.push(this);\n        }\n    }\n\n    run(fn: Function) {\n        if (this.active) {\n            try {\n                this.parent = activeEffectScope;\n                activeEffectScope = this;\n                return fn();\n            } finally {\n                activeEffectScope = this.parent;\n                this.parent = null;\n            }\n        }\n    }\n\n    stop() {\n        if (this.active) {\n            this.effects.forEach((effect: ReactiveEffect) => {\n                effect.stop();\n            });\n            this.active = false;\n        }\n        this.scopes.forEach((scope) => {\n            scope.stop();\n        });\n    }\n}\n\nexport function recordEffectScope(effect: ReactiveEffect) {\n    if (!(activeEffectScope && activeEffectScope.active)) {\n        return;\n    }\n    activeEffectScope.effects.push(effect);\n}\n\nexport function effectScope(detached = false) {\n    return new EffectScope(detached);\n}\n"],
  "mappings": "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",
  "names": ["effect", "effect", "ref", "_a", "reactiveMap", "toRaw", "_a", "effect", "effect"]
}
